<!DOCTYPE html>

<html>
<head>
  <title>hilo.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>hilo.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <p>========================= </p>
<h1>Hilo - 0.1.0-pre-dev-beta-10</h1>
<ul>
<li>2013-08-16
Project started before 1 month and 16 days</li>
<li><a href="http://erikroyall.github.com/hilo/">http://erikroyall.github.com/hilo/</a></li>
<li>Copyright (c) 2013 Erik Royall</li>
<li>Licensed under MIT (see LICENSE-MIT) </li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre>
(<span class="function"><span class="keyword">function</span> <span class="params">(A, M, D)</span> {</span></pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>Asynchronous Module Definition, if available</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
  <span class="comment">/*globals YUI: false, module: false, define: false*/</span>

  <span class="keyword">if</span> (<span class="keyword">typeof</span> module !== <span class="string">"undefined"</span> &amp;&amp; module.exports) {
    module.exports = D;
  } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> define === <span class="string">"function"</span> &amp;&amp; define.amd) {
    define(D);
  } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> YUI === <span class="string">"function"</span>) {
    YUI.add(A, D);
  } <span class="keyword">else</span> {
    M[A] = D();
  }
}(<span class="string">"Hilo"</span>, <span class="keyword">this</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
  <span class="comment">/*jshint -W083, -W064, -W061, -W030*/</span></pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>JSHint escapes:
- W083 - Don&#39;t make function within a loop (Evts)
- W064 - Eval can be harmful (JSON)
- W064 - Missing new prefix when invoking constructor (Sizzle)
- W030 - Saw an expression (Sizzle, Me)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
  <span class="string">"use strict"</span>;
  
  <span class="keyword">var</span> hilo             <span class="comment">// Public API</span></pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>Later used to measure performace (Hilo.perf)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    , start
    , elapsed</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>References</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    , win = window     <span class="comment">// Reference to window</span>
    , doc = document   <span class="comment">// Reference to document</span></pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>Later stores detected features</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    , detected</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>Key mappings (Hilo.keys)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    , key</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>Array of callbacks to be exec.ed on DOMReady</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    , callbacks = []   <span class="comment">// Array of functions to be executed on DOMReady</span></pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>Private Selector Function</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    , select</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>Feature Detection (Hilo.feature)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    , feature          <span class="comment">// Feature Detection</span></pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>Main AJAX function (Hilo.ajax)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    , hiloAjax

    , own = <span class="function"><span class="keyword">function</span> <span class="params">(obj, prop)</span> {</span>
      <span class="keyword">return</span> obj.hasOwnProperty(prop);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>Loop Variable</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    , _i;</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>Start performace testing</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  start = <span class="keyword">new</span> Date().getTime();</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <hr>
<h2>Feature Detection</h2>

            </div>
            
            <div class="content"><div class='highlight'><pre>
  feature = (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
    <span class="keyword">var</span> c = <span class="function"><span class="keyword">function</span> <span class="params">(tagName)</span> {</span>
        <span class="keyword">return</span> doc.createElement(tagName);
      }
      , i = c(<span class="string">"input"</span>)
      , d = c(<span class="string">"div"</span>)
      , cn = c(<span class="string">"canvas"</span>)
      , fr = c(<span class="string">"iframe"</span>)
      , is = <span class="function"><span class="keyword">function</span> <span class="params">(i, attr, val)</span> {</span>
        <span class="keyword">return</span> !!(i.setAttribute (attr, val));
      }
      , a = c(<span class="string">"audio"</span>)
      , s = c(<span class="string">"span"</span>)
      , v = c(<span class="string">"video"</span>)
      , xr = <span class="keyword">new</span> XMLHttpRequest();

    <span class="keyword">return</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>addEventListener()</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      addEventListener: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="keyword">typeof</span> win.addEventListener === <span class="string">"function"</span>;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>Application Cache (or Offline Web Apps)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      applicationCache: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> !!win.applicationCache;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>Audio (tag)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      audio: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> !!a.canPlayType;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>Preload audio (hmm.. background music?)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      audioPreload: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="string">"preload"</span> <span class="keyword">in</span> a;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>Audio Types</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      audioType: {</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>MP3 audio format</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        mp3: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
          <span class="keyword">return</span> !!(a.canPlayType &amp;&amp; a.canPlayType(<span class="string">"audio/mpeg;"</span>).replace(<span class="regexp">/no/</span>, <span class="string">""</span>));
        }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p>Vorbis audio format</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        
        vorbis: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
          <span class="keyword">return</span> !!(a.canPlayType &amp;&amp; a.canPlayType(<span class="string">"audio/ogg; codecs='vorbis'"</span>).replace(<span class="regexp">/no/</span>, <span class="string">""</span>));
        }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>MS WAV audio format</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        
        wav: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
          <span class="keyword">return</span> !!(a.canPlayType &amp;&amp; a.canPlayType(<span class="string">"audio/wav; codecs='1'"</span>).replace(<span class="regexp">/no/</span>, <span class="string">""</span>));
        }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p>AAC audio format</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        
        aac: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
          <span class="keyword">return</span> !!(a.canPlayType &amp;&amp; a.canPlayType(<span class="string">"audio/mp4; codecs='mp4a.40.2'"</span>).replace(<span class="regexp">/no/</span>, <span class="string">""</span>));
        }())
      },</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>Canvas API</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      canvas: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> !!cn.getContext;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p>Canvas Text</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      canvasText: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> !!cn.getContext &amp;&amp; <span class="keyword">typeof</span> cn.getContext(<span class="string">"2d"</span>).fillText === <span class="string">"function"</span>;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p>classList prop. in HTMLElement</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      classList: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="string">"classList"</span> <span class="keyword">in</span> s;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p>Command</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      command: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="string">"type"</span> <span class="keyword">in</span> c(<span class="string">"command"</span>);
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <p>Form Constraint Validation</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      consval: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="string">"noValidate"</span> <span class="keyword">in</span> c(<span class="string">"form"</span>);
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <p>contentEditable</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      contentEditable: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="string">"isContentEditable"</span> <span class="keyword">in</span> s;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-30">&#182;</a>
              </div>
              <p>Datalist (tag)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      datalist: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="string">"options"</span> <span class="keyword">in</span> c(<span class="string">"datalist"</span>);
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-31">&#182;</a>
              </div>
              <p>Details (tag)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      details: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="string">"open"</span> <span class="keyword">in</span> c(<span class="string">"details"</span>);
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-32">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-32">&#182;</a>
              </div>
              <p>Drag &amp; Drop</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      dragdrop: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="string">"draggable"</span> <span class="keyword">in</span> s;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-33">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-33">&#182;</a>
              </div>
              <p>ECMAScript 6</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      es6: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="keyword">typeof</span> String.prototype.contains === <span class="string">"function"</span>;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-34">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-34">&#182;</a>
              </div>
              <p>File system API</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      fileapi: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="keyword">typeof</span> FileReader !== <span class="string">"undefined"</span>;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-35">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-35">&#182;</a>
              </div>
              <p>gen5</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      gen5: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> parseInt(win.navigator.appVersion, <span class="number">10</span>) === <span class="number">5</span>;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-36">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-36">&#182;</a>
              </div>
              <p>Geolocation</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      geolocation: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="string">"geolocation"</span> <span class="keyword">in</span> win.navigator;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-37">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-37">&#182;</a>
              </div>
              <p>window.getSelection() method</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      getSelection: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="keyword">typeof</span> win.getSelection === <span class="string">"function"</span>;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-38">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-38">&#182;</a>
              </div>
              <p>History API</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      history: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> !!(win.history &amp;&amp; history.pushState);
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-39">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-39">&#182;</a>
              </div>
              <p>IFrame</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      iframe: {
        sandbox: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
          <span class="keyword">return</span> <span class="string">"sandbox"</span> <span class="keyword">in</span> fr;
        }()),
        srdoc: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
          <span class="keyword">return</span> <span class="string">"srcdoc"</span> <span class="keyword">in</span> fr;
        }())
      },</pre></div></div>
            
        </li>
        
        
        <li id="section-40">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-40">&#182;</a>
              </div>
              <p>IndexedDB (use this instead of WebSQL)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      indexeddb: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> !!(win.indexedDB &amp;&amp; win.IDBKeyRange &amp;&amp; win.IDBTransaction);
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-41">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-41">&#182;</a>
              </div>
              <p>Input</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      input: {</pre></div></div>
            
        </li>
        
        
        <li id="section-42">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-42">&#182;</a>
              </div>
              <p>Input Auto Focus</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        
        autofocus: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
          <span class="keyword">return</span> <span class="string">"autofocus"</span> <span class="keyword">in</span> i;
        }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-43">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-43">&#182;</a>
              </div>
              <p>Placeholder</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        
        placeholder: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
          <span class="keyword">return</span> <span class="string">"placeholder"</span> <span class="keyword">in</span> i;
        }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-44">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-44">&#182;</a>
              </div>
              <p>Input Types (they are pretty self-explanatory)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        
        type: {
          
          color: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
            is(i, <span class="string">"type"</span>, <span class="string">"color"</span>);
            <span class="keyword">return</span> i.type !== <span class="string">"text"</span>;
          }()),

          date: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
            is(i, <span class="string">"type"</span>, <span class="string">"date"</span>);
            <span class="keyword">return</span> i.type !== <span class="string">"text"</span>;
          }()),

          datetime: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
            is(i, <span class="string">"type"</span>, <span class="string">"datetime"</span>);
            <span class="keyword">return</span> i.type !== <span class="string">"text"</span>;
          }()),

          datetimeLocal: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
            is(i, <span class="string">"type"</span>, <span class="string">"datetime-local"</span>);
            <span class="keyword">return</span> i.type !== <span class="string">"text"</span>;
          }()),

          email: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
            is(i, <span class="string">"type"</span>, <span class="string">"email"</span>);
            <span class="keyword">return</span> i.type !== <span class="string">"text"</span>;
          }()),

          month: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
            is(i, <span class="string">"type"</span>, <span class="string">"month"</span>);
            <span class="keyword">return</span> i.type !== <span class="string">"text"</span>;
          }()),

          number: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
            is(i, <span class="string">"type"</span>, <span class="string">"number"</span>);
            <span class="keyword">return</span> i.type !== <span class="string">"text"</span>;
          }()),

          range: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
            is(i, <span class="string">"type"</span>, <span class="string">"range"</span>);
            <span class="keyword">return</span> i.type !== <span class="string">"text"</span>;
          }()),

          search: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
            is(i, <span class="string">"type"</span>, <span class="string">"search"</span>);
            <span class="keyword">return</span> i.type !== <span class="string">"text"</span>;
          }()),

          tel: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
            is(i, <span class="string">"type"</span>, <span class="string">"tel"</span>);
            <span class="keyword">return</span> i.type !== <span class="string">"text"</span>;
          }()),

          time: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
            is(i, <span class="string">"type"</span>, <span class="string">"time"</span>);
            <span class="keyword">return</span> i.type !== <span class="string">"text"</span>;
          }()),

          week: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
            is(i, <span class="string">"type"</span>, <span class="string">"week"</span>);
            <span class="keyword">return</span> i.type !== <span class="string">"text"</span>;
          }())
        }
      },</pre></div></div>
            
        </li>
        
        
        <li id="section-45">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-45">&#182;</a>
              </div>
              <p>Local Storage</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      localStorage: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">try</span> {
          <span class="keyword">return</span> <span class="string">"localStorage"</span> <span class="keyword">in</span> win &amp;&amp; win[<span class="string">"localStorage"</span>] !== <span class="literal">null</span> &amp;&amp; !!win.localStorage.setItem;
        } <span class="keyword">catch</span>(e){
          <span class="keyword">return</span> <span class="literal">false</span>;
        }
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-46">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-46">&#182;</a>
              </div>
              <p>Meter (tag)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      meter: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="string">"value"</span> <span class="keyword">in</span> c(<span class="string">"meter"</span>);
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-47">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-47">&#182;</a>
              </div>
              <p>Microdata</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      microdata: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="string">"getItems"</span> <span class="keyword">in</span> doc;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-48">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-48">&#182;</a>
              </div>
              <p>Offline (App Cache)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      offline: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> !!win.applicationCache;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-49">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-49">&#182;</a>
              </div>
              <p>Output (tag)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      
      output: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="string">"value"</span> <span class="keyword">in</span> c(<span class="string">"output"</span>);
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-50">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-50">&#182;</a>
              </div>
              <p>Progress (tag)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      progress: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="string">"value"</span> <span class="keyword">in</span> c(<span class="string">"progress"</span>);
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-51">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-51">&#182;</a>
              </div>
              <p>querySelector &amp; querySelectorAll</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      qsa: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="string">"querySelector"</span> <span class="keyword">in</span> doc &amp;&amp; <span class="string">"querySelectorAll"</span> <span class="keyword">in</span> doc;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-52">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-52">&#182;</a>
              </div>
              <p>CSS3 Selectors in querySelectorAll</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      qsa3: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">try</span> {
          <span class="keyword">return</span> doc.querySelectorAll(<span class="string">":root"</span>).length &gt; <span class="number">0</span>;
        } <span class="keyword">catch</span> (e) {
          <span class="keyword">return</span> <span class="literal">false</span>;
        }
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-53">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-53">&#182;</a>
              </div>
              <p>requestAnimationFrame</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      requestAnimationFrame: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">if</span> (<span class="keyword">typeof</span> requestAnimationFrame === <span class="string">"function"</span>) {
          <span class="keyword">return</span> <span class="literal">true</span>;
        } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> msRequestAnimationFrame === <span class="string">"function"</span>) {
          <span class="keyword">return</span> <span class="string">"ms"</span>;
        } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> webkitRequestAnimationFrame === <span class="string">"function"</span>) {
          <span class="keyword">return</span> <span class="string">"webkit"</span>;
        } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> mozRequestAnimationFrame === <span class="string">"function"</span>) {
          <span class="keyword">return</span> <span class="string">"moz"</span>;
        } <span class="keyword">else</span> {
          <span class="keyword">return</span> <span class="literal">false</span>;
        }
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-54">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-54">&#182;</a>
              </div>
              <p>Server-sent Events</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      serverEvt: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="keyword">typeof</span> EventSource !== <span class="string">"undefined"</span>;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-55">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-55">&#182;</a>
              </div>
              <p>Session Storage</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      sessionStorage: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">try</span> {
          <span class="keyword">return</span> <span class="string">"sessionStorage"</span> <span class="keyword">in</span> win &amp;&amp; win[<span class="string">"sessionStorage"</span>] !== <span class="literal">null</span>;
        } <span class="keyword">catch</span>(e) {
          <span class="keyword">return</span> <span class="literal">false</span>;
        }
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-56">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-56">&#182;</a>
              </div>
              <p>Modal Dialog (showModalDialog)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      showModalDialog: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="keyword">typeof</span> win.showModalDialog === <span class="string">"function"</span>;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-57">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-57">&#182;</a>
              </div>
              <p>SVG (Scalable Vector Graphics)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      svg: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> !!(doc.createElementNS &amp;&amp; doc.createElementNS(<span class="string">"http://www.w3.org/2000/svg"</span>, <span class="string">"svg"</span>).createSVGRect);
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-58">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-58">&#182;</a>
              </div>
              <p>SVG in text/html</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      svginhtml:(<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        d.innerHTML = <span class="string">"&lt;svg&gt;&lt;/svg&gt;"</span>;
        <span class="keyword">return</span> !!(win.SVGSVGElement &amp;&amp; d.firstChild <span class="keyword">instanceof</span> win.SVGSVGElement);
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-59">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-59">&#182;</a>
              </div>
              <p>Template (tag)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      template: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="string">"content"</span> <span class="keyword">in</span> c(<span class="string">"template"</span>);
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-60">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-60">&#182;</a>
              </div>
              <p>Time (tag)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      time: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="string">"datetime"</span> <span class="keyword">in</span> c(<span class="string">"time"</span>);
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-61">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-61">&#182;</a>
              </div>
              <p>Undo (not just Ctrl + Z)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      undo: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="keyword">typeof</span> UndoManager !== <span class="string">"undefined"</span>;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-62">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-62">&#182;</a>
              </div>
              <p>Video</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      video: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">try</span> {
          <span class="keyword">return</span> !!v.canPlayType;
        } <span class="keyword">catch</span> (e) {
          <span class="keyword">return</span> <span class="literal">false</span>;
        }
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-63">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-63">&#182;</a>
              </div>
              <p>Video Captions</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      videoCaptions: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="string">"src"</span> <span class="keyword">in</span> c(<span class="string">"track"</span>);
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-64">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-64">&#182;</a>
              </div>
              <p>Video Formats</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      videoFormats: {</pre></div></div>
            
        </li>
        
        
        <li id="section-65">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-65">&#182;</a>
              </div>
              <p>H264 Video Format (MP4)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        h264: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
          <span class="keyword">try</span> {
            <span class="keyword">return</span> v.canPlayType(<span class="string">"video/mp4; codecs='avc1.42E01E, mp4a.40.2'"</span>);
          } <span class="keyword">catch</span> (e) {
            <span class="keyword">return</span> <span class="literal">false</span>;
          }
        }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-66">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-66">&#182;</a>
              </div>
              <p>WebM Video Format</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        webm: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
          <span class="keyword">try</span> {
            <span class="keyword">return</span> v.canPlayType(<span class="string">"video/webm; codecs='vp8, vorbis'"</span>);
          } <span class="keyword">catch</span> (e) {
            <span class="keyword">return</span> <span class="literal">false</span>;
          }
        }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-67">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-67">&#182;</a>
              </div>
              <p>OGG Theora Video Format</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        ogg: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
          <span class="keyword">try</span> {
            <span class="keyword">return</span> v.canPlayType(<span class="string">"video/ogg; codecs='theora, vorbis'"</span>);
          } <span class="keyword">catch</span> (e) {
            <span class="keyword">return</span> <span class="literal">false</span>;
          }
        }())
      },</pre></div></div>
            
        </li>
        
        
        <li id="section-68">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-68">&#182;</a>
              </div>
              <p>Video posters</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      videoPoster: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="string">"poster"</span> <span class="keyword">in</span> c(<span class="string">"video"</span>);
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-69">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-69">&#182;</a>
              </div>
              <p>Web Audio API (NOT the <audio> tag)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      webAudio: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> !!(win.webkitAudioContext || win.AudioContext);
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-70">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-70">&#182;</a>
              </div>
              <p>WebSockets</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      webSockets: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> !!win.webSocket;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-71">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-71">&#182;</a>
              </div>
              <p>WebSQL (a deprecated specification; use IndexedDB instead)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      websql: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> !!win.openDatabase;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-72">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-72">&#182;</a>
              </div>
              <p>Web Workers</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      webWorkers: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> !!win.Worker;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-73">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-73">&#182;</a>
              </div>
              <p>Widgets</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      widgets: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="keyword">typeof</span> widget !== <span class="string">"undefined"</span>;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-74">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-74">&#182;</a>
              </div>
              <p>Cross-document messaging</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      xdocmsg: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> !!win.postMessage;
      }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-75">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-75">&#182;</a>
              </div>
              <p>XML HTTP Request</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      xhr: {</pre></div></div>
            
        </li>
        
        
        <li id="section-76">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-76">&#182;</a>
              </div>
              <p>Cross-domain requests</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        xdr: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
          <span class="keyword">return</span> <span class="string">"withCredentials"</span> <span class="keyword">in</span> xr;
        }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-77">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-77">&#182;</a>
              </div>
              <p>Send as form data</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        formdata: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
          <span class="keyword">return</span> !!win.FormData;
        }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-78">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-78">&#182;</a>
              </div>
              <p>Upload progress events</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        upe: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
          <span class="keyword">return</span> <span class="string">"upload"</span> <span class="keyword">in</span> xr;
        }())
      }
    };
  }());</pre></div></div>
            
        </li>
        
        
        <li id="section-79">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-79">&#182;</a>
              </div>
              <hr>
<h2>Browser, Engine, Platform Detection</h2>

            </div>
            
            <div class="content"><div class='highlight'><pre>
  detected = (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
    <span class="keyword">var</span> engine
      , browser
      , system
      , ua = win.navigator.userAgent
      , safariVersion
      , p;

    browser = {
      ie: <span class="number">0</span>,
      firefox: <span class="number">0</span>,
      safari: <span class="number">0</span>,
      konq: <span class="number">0</span>,
      opera: <span class="number">0</span>,
      chrome: <span class="number">0</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-80">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-80">&#182;</a>
              </div>
              <p>Specific Version</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      ver: <span class="literal">null</span>
    };

    system = {
      win: <span class="literal">false</span>,
      mac: <span class="literal">false</span>,
      x11: <span class="literal">false</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-81">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-81">&#182;</a>
              </div>
              <p>Mobile Devices</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      iphone: <span class="literal">false</span>,
      ipod: <span class="literal">false</span>,
      ipad: <span class="literal">false</span>,
      ios: <span class="literal">false</span>,
      android: <span class="literal">false</span>,
      nokiaN: <span class="literal">false</span>,
      winMobile: <span class="literal">false</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-82">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-82">&#182;</a>
              </div>
              <p>Game Systems</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      wii: <span class="literal">false</span>,
      ps: <span class="literal">false</span>
    };

    engine = {
      ie: <span class="number">0</span>,
      gecko: <span class="number">0</span>,
      webkit: <span class="number">0</span>,
      khtml: <span class="number">0</span>,
      opera: <span class="number">0</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-83">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-83">&#182;</a>
              </div>
              <p>Complete version</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      ver: <span class="literal">null</span>
    };

    <span class="keyword">if</span>(window.opera) {
      engine.ver = browser.ver = window.opera.version();
      engine.opera = browser.opera = parseFloat(engine.ver);
    } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/AppleWebKit\/(\S+)/</span>.test(ua)) {
      engine.ver = RegExp[<span class="string">"$1"</span>];
      engine.webkit = parseFloat(engine.ver);</pre></div></div>
            
        </li>
        
        
        <li id="section-84">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-84">&#182;</a>
              </div>
              <p>Figures out if chrome or Safari</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      <span class="keyword">if</span> (<span class="regexp">/Chrome\/(\S+)/</span>.test(ua)) {
        browser.ver = RegExp[<span class="string">"$1"</span>];
        browser.chrome = parseFloat(browser.ver);
      } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/Version\/(\S+)/</span>.test(ua)) {
        browser.ver = RegExp[<span class="string">"$1"</span>];
        browser.safari = parseFloat(browser.ver);
      } <span class="keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-85">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-85">&#182;</a>
              </div>
              <p>Approximate version</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        safariVersion = <span class="number">1</span>;

        <span class="keyword">if</span> (engine.webkit &lt; <span class="number">100</span>) {
          safariVersion = <span class="number">1</span>;
        } <span class="keyword">else</span> <span class="keyword">if</span> (engine.webkit &lt; <span class="number">312</span>) {
          safariVersion = <span class="number">1.2</span>;
        } <span class="keyword">else</span> <span class="keyword">if</span> (engine.webkit &lt; <span class="number">412</span>) {
          safariVersion = <span class="number">1.3</span>;
        } <span class="keyword">else</span> {
          safariVersion = <span class="number">2</span>;
        }

        browser.safari = browser.ver = safariVersion;
      }
    } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/KHTML\/(\S+)/</span>.test(ua) || <span class="regexp">/Konqueror\/([^;]+)/</span>.test(ua)) {
      engine.ver = browser.ver = RegExp[<span class="string">"$1"</span>];
      engine.khtml = browser.konq = parseFloat(engine.ver);
    } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/rv:([^\)]+)\) Gecko\/\d{8}/</span>.test(ua)) {
      engine.ver = RegExp[<span class="string">"$1"</span>];
      engine.gecko = parseFloat(engine.ver);</pre></div></div>
            
        </li>
        
        
        <li id="section-86">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-86">&#182;</a>
              </div>
              <p>Determine if it&#39;s firefox</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      <span class="keyword">if</span> (<span class="regexp">/Firefox\/(\S+)/</span>.test(ua)) {
        browser.ver = RegExp[<span class="string">"$1"</span>];
        browser.firefox = parseFloat(browser.ver);
      }
    } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/MSIE ([^;]+)/</span>.test(ua)) {
      engine.ver = browser.ver = RegExp[<span class="string">"$1"</span>];
      engine.ie = browser.ie = parseFloat(engine.ver);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-87">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-87">&#182;</a>
              </div>
              <p>Detect browsers</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    browser.ie = engine.ie;
    browser.opera = engine.opera;</pre></div></div>
            
        </li>
        
        
        <li id="section-88">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-88">&#182;</a>
              </div>
              <p>Detect platform</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    p = navigator.platform;

    system.win = p.indexOf(<span class="string">"Win"</span>) === <span class="number">0</span>;
    system.mac = p.indexOf(<span class="string">"Mac"</span>) === <span class="number">0</span>;
    system.x11 = (p === <span class="string">"X11"</span>) || (p.indexOf(<span class="string">"Linux"</span>) === <span class="number">0</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-89">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-89">&#182;</a>
              </div>
              <p>Detecting Windows OSs</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="keyword">if</span> (system.win) {
      <span class="keyword">if</span> (<span class="regexp">/Win(?:dows )?([^do]{2})\s?(\d+\.\d+)?/</span>.test(ua)) {
        <span class="keyword">if</span> (RegExp[<span class="string">"$1"</span>] === <span class="string">"NT"</span>) {
          <span class="keyword">switch</span>(RegExp[<span class="string">"$2"</span>]) {
            <span class="keyword">case</span> <span class="string">"5.0"</span>:
              system.win = <span class="string">"2000"</span>;
              <span class="keyword">break</span>;
            
            <span class="keyword">case</span> <span class="string">"5.1"</span>:
              system.win = <span class="string">"XP"</span>;
              <span class="keyword">break</span>;
            
            <span class="keyword">case</span> <span class="string">"6.0"</span>:
              system.win = <span class="string">"Vista"</span>;
              <span class="keyword">break</span>;
            
            <span class="keyword">case</span> <span class="string">"6.1"</span>:
              system.win = <span class="string">"7"</span>;
              <span class="keyword">break</span>;
            
            <span class="keyword">default</span>:
              system.win = <span class="string">"NT"</span>;
              <span class="keyword">break</span>;
          }
        } <span class="keyword">else</span> <span class="keyword">if</span> (RegExp[<span class="string">"$1"</span>] === <span class="string">"9x"</span>) {
          system.win = <span class="string">"ME"</span>;
        } <span class="keyword">else</span> {
          system.win = RegExp[<span class="string">"$1"</span>];
        }
      }
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-90">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-90">&#182;</a>
              </div>
              <p>Mobile Devices</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    system.iphone = ua.indexOf(<span class="string">"iPhone"</span>) &gt; -<span class="number">1</span>;
    system.ipod = ua.indexOf(<span class="string">"iPod"</span>) &gt; -<span class="number">1</span>;
    system.ipad = ua.indexOf(<span class="string">"iPad"</span>) &gt; -<span class="number">1</span>;
    system.nokiaN = ua.indexOf(<span class="string">"NokiaN"</span>) &gt; -<span class="number">1</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-91">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-91">&#182;</a>
              </div>
              <p>Windows Mobile</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="keyword">if</span> (system.win === <span class="string">"CE"</span>) {
      system.winMobile = system.win;
    } <span class="keyword">else</span> <span class="keyword">if</span> (system.win === <span class="string">"Ph"</span>) {
      <span class="keyword">if</span> (<span class="regexp">/Windows Phone OS(\d+.\d+)/</span>.test(ua)) {
        system.win = <span class="string">"Phone"</span>;
        system.winMobile = parseFloat(RegExp[<span class="string">"$1"</span>]);
      }
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-92">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-92">&#182;</a>
              </div>
              <p>Determine iOS Version</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="keyword">if</span> (system.mac &amp;&amp; ua.indexOf(<span class="string">"Mobile"</span>) &gt; -<span class="number">1</span>) {
      <span class="keyword">if</span> (<span class="regexp">/CPU (?:iPhone )?OS (\d+_\d+)/</span>.test(ua)) {
        system.ios = parseFloat(RegExp[<span class="string">"$1"</span>].replace(<span class="string">"_"</span>, <span class="string">"."</span>));
      } <span class="keyword">else</span> {
        system.ios = <span class="number">2</span>; <span class="comment">// Can't really detect - so guess</span>
      }
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-93">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-93">&#182;</a>
              </div>
              <p>Determine Android Version</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="keyword">if</span> (<span class="regexp">/Android (\d+\.\d+)/</span>.test(ua)) {
      system.android = parseFloat(RegExp[<span class="string">"$1"</span>]);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-94">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-94">&#182;</a>
              </div>
              <p>Gaming Systems</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    system.wii = ua.indexOf(<span class="string">"Wii"</span>) &gt; -<span class="number">1</span>;
    system.ps = <span class="regexp">/playstation/i</span>.test(ua);</pre></div></div>
            
        </li>
        
        
        <li id="section-95">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-95">&#182;</a>
              </div>
              <p>Name and Version</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="keyword">if</span> (system.win) {
      system.name = <span class="string">"Windows"</span>;
      system.version = system.win;
    } <span class="keyword">else</span> <span class="keyword">if</span> (system.mac) {
      system.name = <span class="string">"Mac"</span>;
    } <span class="keyword">else</span> <span class="keyword">if</span> (system.x11) {
      system.name = <span class="string">"Linux"</span>;
    } <span class="keyword">else</span> {
      system.name = <span class="string">"Some other"</span>;
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-96">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-96">&#182;</a>
              </div>
              <p>Engines</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="keyword">if</span> (browser.ie) {
      browser.name = <span class="string">"IE"</span>;
      browser.version = browser.ie;
    } <span class="keyword">else</span> <span class="keyword">if</span> (browser.chrome) {
      browser.name = <span class="string">"Chrome"</span>;
      browser.version = browser.chrome;
    } <span class="keyword">else</span> <span class="keyword">if</span> (browser.safari) {
      browser.name = <span class="string">"Safari"</span>;
      browser.version = browser.safari;
    } <span class="keyword">else</span> <span class="keyword">if</span> (browser.konq) {
      browser.name = <span class="string">"Konqueror"</span>;
      browser.version = browser.konq;
    } <span class="keyword">else</span> <span class="keyword">if</span> (browser.opera) {
      browser.name = <span class="string">"Opera"</span>;
      browser.version = browser.opera;
    } <span class="keyword">else</span> <span class="keyword">if</span> (browser.firefox) {
      browser.name = <span class="string">"Firefox"</span>;
      browser.version = browser.firefox;
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-97">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-97">&#182;</a>
              </div>
              <p>return them</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="keyword">return</span> {
      engine: engine,
      browser: browser,
      system: system
    };
  }());</pre></div></div>
            
        </li>
        
        
        <li id="section-98">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-98">&#182;</a>
              </div>
              <p>Create a json object only if one does not already exist. We create the
methods in a closure to avoid creating global variables.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="keyword">var</span> json = {};

(<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>

  <span class="function"><span class="keyword">function</span> <span class="title">f</span> <span class="params">(n)</span> {</span></pre></div></div>
            
        </li>
        
        
        <li id="section-99">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-99">&#182;</a>
              </div>
              <p>Format integers to have at least two digits.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">return</span> n &lt; <span class="number">10</span> ? <span class="string">'0'</span> + n : n;
  }

  <span class="keyword">if</span> (<span class="keyword">typeof</span> Date.prototype.tojson !== <span class="string">'function'</span>) {

    Date.prototype.tojson = <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>

      <span class="keyword">return</span> isFinite(<span class="keyword">this</span>.valueOf()) ?
          <span class="keyword">this</span>.getUTCFullYear()     + <span class="string">'-'</span> +
          f(<span class="keyword">this</span>.getUTCMonth() + <span class="number">1</span>) + <span class="string">'-'</span> +
          f(<span class="keyword">this</span>.getUTCDate())      + <span class="string">'T'</span> +
          f(<span class="keyword">this</span>.getUTCHours())     + <span class="string">':'</span> +
          f(<span class="keyword">this</span>.getUTCMinutes())   + <span class="string">':'</span> +
          f(<span class="keyword">this</span>.getUTCSeconds())   + <span class="string">'Z'</span>
        : <span class="literal">null</span>;
    };

    String.prototype.tojson =
      Number.prototype.tojson  =
      Boolean.prototype.tojson = <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> <span class="keyword">this</span>.valueOf();
      };
  }

  <span class="keyword">var</span> cx = <span class="regexp">/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g</span>,
    escapable = <span class="regexp">/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g</span>,
    gap,
    indent,
    meta = {    <span class="comment">// table of character substitutions</span>
      <span class="string">'\b'</span>: <span class="string">'\\b'</span>,
      <span class="string">'\t'</span>: <span class="string">'\\t'</span>,
      <span class="string">'\n'</span>: <span class="string">'\\n'</span>,
      <span class="string">'\f'</span>: <span class="string">'\\f'</span>,
      <span class="string">'\r'</span>: <span class="string">'\\r'</span>,
      <span class="string">'"'</span> : <span class="string">'\\"'</span>,
      <span class="string">'\\'</span>: <span class="string">'\\\\'</span>
    },
    rep;


  <span class="function"><span class="keyword">function</span> <span class="title">quote</span><span class="params">(string)</span> {</span></pre></div></div>
            
        </li>
        
        
        <li id="section-100">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-100">&#182;</a>
              </div>
              <p>If the string contains no control characters, no quote characters, and no
backslash characters, then we can safely slap some quotes around it.
Otherwise we must also replace the offending characters with safe escape
sequences.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    escapable.lastIndex = <span class="number">0</span>;
    <span class="keyword">return</span> escapable.test(string) ? <span class="string">'"'</span> + string.replace(escapable, <span class="function"><span class="keyword">function</span> <span class="params">(a)</span> {</span>
      <span class="keyword">var</span> c = meta[a];
      <span class="keyword">return</span> <span class="keyword">typeof</span> c === <span class="string">'string'</span> ? c
        : <span class="string">'\\u'</span> + (<span class="string">'0000'</span> + a.charCodeAt(<span class="number">0</span>).toString(<span class="number">16</span>)).slice(-<span class="number">4</span>);
    }) + <span class="string">'"'</span> : <span class="string">'"'</span> + string + <span class="string">'"'</span>;
  }


  <span class="function"><span class="keyword">function</span> <span class="title">str</span><span class="params">(key, holder)</span> {</span></pre></div></div>
            
        </li>
        
        
        <li id="section-101">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-101">&#182;</a>
              </div>
              <p>Produce a string from holder[key].</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="keyword">var</span> i,          <span class="comment">// The loop counter.</span>
      k,          <span class="comment">// The member key.</span>
      v,          <span class="comment">// The member value.</span>
      length,
      mind = gap,
      partial,
      value = holder[key];</pre></div></div>
            
        </li>
        
        
        <li id="section-102">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-102">&#182;</a>
              </div>
              <p>If the value has a tojson method, call it to obtain a replacement value.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="keyword">if</span> (value &amp;&amp; <span class="keyword">typeof</span> value === <span class="string">'object'</span> &amp;&amp;
        <span class="keyword">typeof</span> value.tojson === <span class="string">'function'</span>) {
      value = value.tojson(key);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-103">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-103">&#182;</a>
              </div>
              <p>If we were called with a replacer function, then call the replacer to
obtain a replacement value.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="keyword">if</span> (<span class="keyword">typeof</span> rep === <span class="string">'function'</span>) {
      value = rep.call(holder, key, value);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-104">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-104">&#182;</a>
              </div>
              <p>What happens next depends on the value&#39;s type.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="keyword">switch</span> (<span class="keyword">typeof</span> value) {
    <span class="keyword">case</span> <span class="string">'string'</span>:
      <span class="keyword">return</span> quote(value);

    <span class="keyword">case</span> <span class="string">'number'</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-105">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-105">&#182;</a>
              </div>
              <p>json numbers must be finite. Encode non-finite numbers as null.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      <span class="keyword">return</span> isFinite(value) ? String(value) : <span class="string">'null'</span>;

    <span class="keyword">case</span> <span class="string">'boolean'</span>:
    <span class="keyword">case</span> <span class="string">'null'</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-106">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-106">&#182;</a>
              </div>
              <p>If the value is a boolean or null, convert it to a string. Note:
typeof null does not produce &#39;null&#39;. The case is included here in
the remote chance that this gets fixed someday.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      <span class="keyword">return</span> String(value);</pre></div></div>
            
        </li>
        
        
        <li id="section-107">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-107">&#182;</a>
              </div>
              <p>If the type is &#39;object&#39;, we might be dealing with an object or an array or
null.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="keyword">case</span> <span class="string">'object'</span>:</pre></div></div>
            
        </li>
        
        
        <li id="section-108">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-108">&#182;</a>
              </div>
              <p>Due to a specification blunder in ECMAScript, typeof null is &#39;object&#39;,
so watch out for that case.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      <span class="keyword">if</span> (!value) {
        <span class="keyword">return</span> <span class="string">'null'</span>;
      }</pre></div></div>
            
        </li>
        
        
        <li id="section-109">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-109">&#182;</a>
              </div>
              <p>Make an array to hold the partial results of stringifying this object value.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      gap += indent;
      partial = [];</pre></div></div>
            
        </li>
        
        
        <li id="section-110">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-110">&#182;</a>
              </div>
              <p>Is the value an array?</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      <span class="keyword">if</span> (Object.prototype.toString.apply(value) === <span class="string">'[object Array]'</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-111">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-111">&#182;</a>
              </div>
              <p>The value is an array. Stringify every element. Use null as a placeholder
for non-json values.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        length = value.length;
        
        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; length; i += <span class="number">1</span>) {
          partial[i] = str(i, value) || <span class="string">'null'</span>;
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-112">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-112">&#182;</a>
              </div>
              <p>Join all of the elements together, separated with commas, and wrap them in
brackets.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        v = partial.length === <span class="number">0</span> ? <span class="string">'[]'</span>
          : gap ? <span class="string">'[\n'</span> + gap + partial.join(<span class="string">',\n'</span> + gap) + <span class="string">'\n'</span> + mind + <span class="string">']'</span>
          : <span class="string">'['</span> + partial.join(<span class="string">','</span>) + <span class="string">']'</span>;

        gap = mind;

        <span class="keyword">return</span> v;
      }</pre></div></div>
            
        </li>
        
        
        <li id="section-113">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-113">&#182;</a>
              </div>
              <p>If the replacer is an array, use it to select the members to be stringified.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      <span class="keyword">if</span> (rep &amp;&amp; <span class="keyword">typeof</span> rep === <span class="string">'object'</span>) {
        length = rep.length;
        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; length; i += <span class="number">1</span>) {
          <span class="keyword">if</span> (<span class="keyword">typeof</span> rep[i] === <span class="string">'string'</span>) {
            k = rep[i];
            v = str(k, value);
            <span class="keyword">if</span> (v) {
              partial.push(quote(k) + (gap ? <span class="string">': '</span> : <span class="string">':'</span>) + v);
            }
          }
        }
      } <span class="keyword">else</span> {</pre></div></div>
            
        </li>
        
        
        <li id="section-114">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-114">&#182;</a>
              </div>
              <p>Otherwise, iterate through all of the keys in the object.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        <span class="keyword">for</span> (k <span class="keyword">in</span> value) {
          <span class="keyword">if</span> (Object.prototype.hasOwnProperty.call(value, k)) {
            v = str(k, value);
            <span class="keyword">if</span> (v) {
              partial.push(quote(k) + (gap ? <span class="string">': '</span> : <span class="string">':'</span>) + v);
            }
          }
        }
      }</pre></div></div>
            
        </li>
        
        
        <li id="section-115">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-115">&#182;</a>
              </div>
              <p>Join all of the member texts together, separated with commas,
and wrap them in braces.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      v = partial.length === <span class="number">0</span> ? <span class="string">'{}'</span>
        : gap ? <span class="string">'{\n'</span> + gap + partial.join(<span class="string">',\n'</span> + gap) + <span class="string">'\n'</span> + mind + <span class="string">'}'</span>
        : <span class="string">'{'</span> + partial.join(<span class="string">','</span>) + <span class="string">'}'</span>;

      gap = mind;

      <span class="keyword">return</span> v;
    }
  }</pre></div></div>
            
        </li>
        
        
        <li id="section-116">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-116">&#182;</a>
              </div>
              <p>If the json object does not yet have a stringify method, give it one.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
  <span class="keyword">if</span> (<span class="keyword">typeof</span> json.stringify !== <span class="string">'function'</span>) {
    json.stringify = <span class="function"><span class="keyword">function</span> <span class="params">(value, replacer, space)</span> {</span></pre></div></div>
            
        </li>
        
        
        <li id="section-117">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-117">&#182;</a>
              </div>
              <p>The stringify method takes a value and an optional replacer, and an optional
space parameter, and returns a json text. The replacer can be a function
that can replace values, or an array of strings that will select the keys.
A default replacer method can be provided. Use of the space parameter can
produce text that is more easily readable.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      <span class="keyword">var</span> i;
      gap = <span class="string">''</span>;
      indent = <span class="string">''</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-118">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-118">&#182;</a>
              </div>
              <p>If the space parameter is a number, make an indent string containing that
many spaces.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      <span class="keyword">if</span> (<span class="keyword">typeof</span> space === <span class="string">'number'</span>) {
        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; space; i += <span class="number">1</span>) {
          indent += <span class="string">' '</span>;
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-119">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-119">&#182;</a>
              </div>
              <p>If the space parameter is a string, it will be used as the indent string.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> space === <span class="string">'string'</span>) {
        indent = space;
      }</pre></div></div>
            
        </li>
        
        
        <li id="section-120">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-120">&#182;</a>
              </div>
              <p>If there is a replacer, it must be a function or an array.
Otherwise, throw an error.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      rep = replacer;
      <span class="keyword">if</span> (replacer &amp;&amp; <span class="keyword">typeof</span> replacer !== <span class="string">'function'</span> &amp;&amp;
          (<span class="keyword">typeof</span> replacer !== <span class="string">'object'</span> ||
          <span class="keyword">typeof</span> replacer.length !== <span class="string">'number'</span>)) {
        <span class="keyword">throw</span> <span class="keyword">new</span> Error(<span class="string">'json.stringify'</span>);
      }</pre></div></div>
            
        </li>
        
        
        <li id="section-121">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-121">&#182;</a>
              </div>
              <p>Make a fake root object containing our value under the key of &#39;&#39;.
Return the result of stringifying the value.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      <span class="keyword">return</span> str(<span class="string">''</span>, {<span class="string">''</span>: value});
    };
  }</pre></div></div>
            
        </li>
        
        
        <li id="section-122">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-122">&#182;</a>
              </div>
              <p>If the json object does not yet have a parse method, give it one.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
  <span class="keyword">if</span> (<span class="keyword">typeof</span> json.parse !== <span class="string">'function'</span>) {
    json.parse = <span class="function"><span class="keyword">function</span> <span class="params">(text, reviver)</span> {</span></pre></div></div>
            
        </li>
        
        
        <li id="section-123">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-123">&#182;</a>
              </div>
              <p>The parse method takes a text and an optional reviver function, and returns
a JavaScript value if the text is a valid json text.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      <span class="keyword">var</span> j;

      <span class="function"><span class="keyword">function</span> <span class="title">walk</span><span class="params">(holder, key)</span> {</span></pre></div></div>
            
        </li>
        
        
        <li id="section-124">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-124">&#182;</a>
              </div>
              <p>The walk method is used to recursively walk the resulting structure so
that modifications can be made.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        <span class="keyword">var</span> k, v, value = holder[key];
        <span class="keyword">if</span> (value &amp;&amp; <span class="keyword">typeof</span> value === <span class="string">'object'</span>) {
          <span class="keyword">for</span> (k <span class="keyword">in</span> value) {
            <span class="keyword">if</span> (Object.prototype.hasOwnProperty.call(value, k)) {
              v = walk(value, k);
              <span class="keyword">if</span> (v !== <span class="literal">undefined</span>) {
                value[k] = v;
              } <span class="keyword">else</span> {
                <span class="keyword">delete</span> value[k];
              }
            }
          }
        }
        <span class="keyword">return</span> reviver.call(holder, key, value);
      }</pre></div></div>
            
        </li>
        
        
        <li id="section-125">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-125">&#182;</a>
              </div>
              <p>Parsing happens in four stages. In the first stage, we replace certain
Unicode characters with escape sequences. JavaScript handles many characters
incorrectly, either silently deleting them, or treating them as line endings.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      text = String(text);
      cx.lastIndex = <span class="number">0</span>;
      <span class="keyword">if</span> (cx.test(text)) {
        text = text.replace(cx, <span class="function"><span class="keyword">function</span> <span class="params">(a)</span> {</span>
          <span class="keyword">return</span> <span class="string">'\\u'</span> +
            (<span class="string">'0000'</span> + a.charCodeAt(<span class="number">0</span>).toString(<span class="number">16</span>)).slice(-<span class="number">4</span>);
        });
      }</pre></div></div>
            
        </li>
        
        
        <li id="section-126">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-126">&#182;</a>
              </div>
              <p>In the second stage, we run the text against regular expressions that look
for non-json patterns. We are especially concerned with &#39;()&#39; and &#39;new&#39;
because they can cause invocation, and &#39;=&#39; because it can cause mutation.
But just to be safe, we want to reject all unexpected forms.</p>

            </div>
            
        </li>
        
        
        <li id="section-127">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-127">&#182;</a>
              </div>
              <p>We split the second stage into 4 regexp operations in order to work around
crippling inefficiencies in IE&#39;s and Safari&#39;s regexp engines. First we
replace the json backslash pairs with &#39;@&#39; (a non-json character). Second, we
replace all simple value tokens with &#39;]&#39; characters. Third, we delete all
open brackets that follow a colon or comma or that begin the text. Finally,
we look to see that the remaining characters are only whitespace or &#39;]&#39; or
&#39;,&#39; or &#39;:&#39; or &#39;{&#39; or &#39;}&#39;. If that is so, then the text is safe for eval.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      <span class="keyword">if</span> (<span class="regexp">/^[\],:{}\s]*$/</span>
          .test(text.replace(<span class="regexp">/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g</span>, <span class="string">'@'</span>)
            .replace(<span class="regexp">/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g</span>, <span class="string">']'</span>)
            .replace(<span class="regexp">/(?:^|:|,)(?:\s*\[)+/g</span>, <span class="string">''</span>))) {</pre></div></div>
            
        </li>
        
        
        <li id="section-128">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-128">&#182;</a>
              </div>
              <p>In the third stage we use the eval function to compile the text into a
JavaScript structure. The &#39;{&#39; operator is subject to a syntactic ambiguity
in JavaScript: it can begin a block or an object literal. We wrap the text
in parens to eliminate the ambiguity.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        j = eval(<span class="string">'('</span> + text + <span class="string">')'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-129">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-129">&#182;</a>
              </div>
              <p>In the optional fourth stage, we recursively walk the new structure, passing
each name/value pair to a reviver function for possible transformation.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        <span class="keyword">return</span> <span class="keyword">typeof</span> reviver === <span class="string">'function'</span> ? walk({<span class="string">''</span>: j}, <span class="string">''</span>) : j;
      }</pre></div></div>
            
        </li>
        
        
        <li id="section-130">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-130">&#182;</a>
              </div>
              <p>If the text is not json parseable, then a SyntaxError is thrown.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
      <span class="keyword">throw</span> <span class="keyword">new</span> SyntaxError(<span class="string">'json.parse'</span>);
    };
  }
}());</pre></div></div>
            
        </li>
        
        
        <li id="section-131">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-131">&#182;</a>
              </div>
              <hr>
<h2>Utilities</h2>

            </div>
            
            <div class="content"><div class='highlight'><pre>
  <span class="keyword">var</span> boxedString = Object(<span class="string">"a"</span>)
    , splitString = boxedString[<span class="number">0</span>] !== <span class="string">"a"</span> || !(<span class="number">0</span> <span class="keyword">in</span> boxedString);

  <span class="keyword">var</span> toObject = <span class="function"><span class="keyword">function</span> <span class="title">toObject</span> <span class="params">(o)</span> {</span>
    <span class="keyword">if</span> (<span class="keyword">typeof</span> o === <span class="string">"undefined"</span>) { <span class="comment">// this matches both null and undefined</span>
      <span class="keyword">throw</span> <span class="keyword">new</span> TypeError(<span class="string">"can't convert "</span>+o+<span class="string">" to object"</span>);
    }

    <span class="keyword">return</span> Object(o);
  };

  <span class="keyword">var</span> toInteger = <span class="function"><span class="keyword">function</span> <span class="title">toInteger</span><span class="params">(value)</span> {</span>
    <span class="keyword">var</span> number = +value;

    <span class="keyword">if</span> (Number.isNaN(number)) {
      <span class="keyword">return</span> <span class="number">0</span>;
    }

    <span class="keyword">if</span> (number === <span class="number">0</span> || !isFinite(number)) {
      <span class="keyword">return</span> number;
    }

    <span class="keyword">return</span> sign(number) * Math.floor(Math.abs(number));
  };

  <span class="keyword">var</span> sign = <span class="function"><span class="keyword">function</span> <span class="title">sign</span><span class="params">(value)</span> {</span>
    <span class="keyword">var</span> number = +value;

    <span class="keyword">if</span> (number === <span class="number">0</span>) {
      <span class="keyword">return</span> number;
    }

    <span class="keyword">if</span> (Number.isNaN(number)) {
      <span class="keyword">return</span> number;
    }

    <span class="keyword">return</span> number &lt; <span class="number">0</span> ? -<span class="number">1</span> : <span class="number">1</span>;
  };

  <span class="keyword">var</span> isPrimitive = <span class="function"><span class="keyword">function</span> <span class="title">isPrimitive</span><span class="params">(input)</span> {</span>
    <span class="keyword">var</span> type = <span class="keyword">typeof</span> input;
    
    <span class="keyword">return</span> (
      input === <span class="literal">null</span> ||
      type === <span class="string">"undefined"</span> ||
      type === <span class="string">"boolean"</span> ||
      type === <span class="string">"number"</span> ||
      type === <span class="string">"string"</span>
    );
  };</pre></div></div>
            
        </li>
        
        
        <li id="section-132">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-132">&#182;</a>
              </div>
              <hr>
<h2>Array Utilities</h2>

            </div>
            
        </li>
        
        
        <li id="section-133">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-133">&#182;</a>
              </div>
              <p>Executes a function on each of the element
in the array</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="keyword">var</span> each = <span class="function"><span class="keyword">function</span> <span class="title">each</span> <span class="params">(arr, fn, thisRef)</span> {</span>
    <span class="keyword">var</span> _i, _l;</pre></div></div>
            
        </li>
        
        
        <li id="section-134">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-134">&#182;</a>
              </div>
              <p>Use Array.prototype.forEach if available</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">if</span> (Array.prototype.forEach) {
      <span class="keyword">return</span> Array.prototype.forEach.call(arr, fn);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-135">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-135">&#182;</a>
              </div>
              <p>Throw an error if array and function are not provided</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">if</span> (!(arr &amp;&amp; fn)) {
      <span class="keyword">throw</span> <span class="keyword">new</span> Error (
        <span class="string">"Not enough arguments provided for each()"</span>
      );
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-136">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-136">&#182;</a>
              </div>
              <p>Make the this variable the array itself if not provided</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    thisRef = thisRef || arr;

    <span class="keyword">for</span> (_i = <span class="number">0</span>, _l = arr.length; _i &lt; _l; _i += <span class="number">1</span>) {
      fn.call(thisRef, arr[_i]);
    }
  };</pre></div></div>
            
        </li>
        
        
        <li id="section-137">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-137">&#182;</a>
              </div>
              <p>Iterate over an object and execute a function on each &#39;value&#39;
of it</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="keyword">var</span> forIn = <span class="function"><span class="keyword">function</span> <span class="title">forIn</span> <span class="params">(obj, fn, thisRef)</span> {</span>
    <span class="keyword">var</span> _i;</pre></div></div>
            
        </li>
        
        
        <li id="section-138">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-138">&#182;</a>
              </div>
              <p>Throw an error if object and function are not provided</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">if</span> (!(obj &amp;&amp; fn)) {
      <span class="keyword">throw</span> <span class="keyword">new</span> Error (
        <span class="string">"Not enough arguments provided for forIn()"</span>
      );
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-139">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-139">&#182;</a>
              </div>
              <p>Make the given object as the <code>this</code> value if one is not provided</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    thisRef = thisRef || obj;

    <span class="keyword">for</span> (_i <span class="keyword">in</span> obj) {
      <span class="keyword">if</span> (own(obj, _i)) {
        fn.call(thisRef, _i);
      }
    }
  };</pre></div></div>
            
        </li>
        
        
        <li id="section-140">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-140">&#182;</a>
              </div>
              <p>Append all the properties of the second object to the first</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="keyword">var</span> extend = <span class="function"><span class="keyword">function</span> <span class="title">extend</span> <span class="params">(obj, ext)</span> {</span>
    <span class="keyword">var</span> _i;</pre></div></div>
            
        </li>
        
        
        <li id="section-141">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-141">&#182;</a>
              </div>
              <p>Throw an error if object and extension are not provided</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">if</span> (!(obj &amp;&amp; ext)) {
      <span class="keyword">throw</span> <span class="keyword">new</span> Error (
        <span class="string">"Not enough arguments provided for extend()"</span>
      );
    }

    <span class="keyword">for</span> (_i <span class="keyword">in</span> ext) {
      <span class="keyword">if</span> (own(ext, _i)) {
        obj[_i] = ext[_i];
      }
    }

    <span class="keyword">return</span> obj;
  };</pre></div></div>
            
        </li>
        
        
        <li id="section-142">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-142">&#182;</a>
              </div>
              <p>Check if every element in the object passes the test</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="keyword">var</span> every = <span class="function"><span class="keyword">function</span> <span class="title">every</span> <span class="params">(o, fun)</span> {</span>
    <span class="keyword">var</span> t, len, thisp, _i;

    <span class="keyword">if</span> (o === <span class="literal">null</span>) {
      <span class="keyword">throw</span> <span class="keyword">new</span> TypeError();
    }

    t = Object(o);
    len = t.length &gt;&gt;&gt; <span class="number">0</span>;

    <span class="keyword">if</span> (<span class="keyword">typeof</span> fun !== <span class="string">"function"</span>) {
      <span class="keyword">throw</span> <span class="keyword">new</span> TypeError();
    }

    thisp = arguments[<span class="number">1</span>];

    <span class="keyword">for</span> (_i = <span class="number">0</span>; _i &lt; len; _i++) {
      <span class="keyword">if</span> (_i <span class="keyword">in</span> t &amp;&amp; !fun.call(thisp, t[_i], _i, t)) {
        <span class="keyword">return</span> <span class="literal">false</span>;
      }
    }

    <span class="keyword">return</span> <span class="literal">true</span>;
  };</pre></div></div>
            
        </li>
        
        
        <li id="section-143">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-143">&#182;</a>
              </div>
              <hr>
<h2>String Utilities</h2>

            </div>
            
        </li>
        
        
        <li id="section-144">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-144">&#182;</a>
              </div>
              <p>Remove whitespace at the start and end of a string</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="keyword">var</span> trim = <span class="function"><span class="keyword">function</span> <span class="title">trim</span> <span class="params">(str)</span> {</span>
    <span class="keyword">var</span> ws = <span class="string">"\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003"</span> + 
             <span class="string">"\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028"</span> + 
             <span class="string">"\u2029\uFEFF"</span>;

    ws = <span class="string">"["</span> + ws + <span class="string">"]"</span>;

    <span class="keyword">var</span> trimBeginRegexp = <span class="keyword">new</span> RegExp(<span class="string">"^"</span> + ws + ws + <span class="string">"*"</span>),
      trimEndRegexp = <span class="keyword">new</span> RegExp(ws + ws + <span class="string">"*$"</span>);

    <span class="keyword">if</span> (str === <span class="keyword">void</span> <span class="number">0</span> || str === <span class="literal">null</span>) {
      <span class="keyword">throw</span> <span class="keyword">new</span> TypeError(<span class="string">"can't convert "</span>+ str +<span class="string">" to object"</span>);
    }

    <span class="keyword">return</span> String(str).replace(trimBeginRegexp, <span class="string">""</span>).replace(trimEndRegexp, <span class="string">""</span>);
  };</pre></div></div>
            
        </li>
        
        
        <li id="section-145">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-145">&#182;</a>
              </div>
              <p>Check if a string contains another string in it</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="keyword">var</span> contains = <span class="function"><span class="keyword">function</span> <span class="title">contains</span> <span class="params">(haystack, needle)</span> {</span>
    <span class="keyword">var</span> position = arguments[<span class="number">1</span>];

    <span class="keyword">return</span> haystack.indexOf(needle, position) !== -<span class="number">1</span>;
  };

  <span class="keyword">var</span> indexOf = <span class="function"><span class="keyword">function</span> <span class="title">indexOf</span><span class="params">(arr, sought <span class="comment">/*, fromIndex */</span> )</span> {</span>
    <span class="keyword">var</span> self = splitString &amp;&amp; arr.toString() === <span class="string">"[object String]"</span> ?
            <span class="keyword">this</span>.split(<span class="string">""</span>) :
            toObject(<span class="keyword">this</span>)
      , length = self.length &gt;&gt;&gt; <span class="number">0</span>;

    <span class="keyword">if</span> (!length) {
        <span class="keyword">return</span> -<span class="number">1</span>;
    }

    <span class="keyword">var</span> i = <span class="number">0</span>;

    <span class="keyword">if</span> (arguments.length &gt; <span class="number">1</span>) {
        i = toInteger(arguments[<span class="number">1</span>]);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-146">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-146">&#182;</a>
              </div>
              <p>handle negative indices</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    i = i &gt;= <span class="number">0</span> ? i : Math.max(<span class="number">0</span>, length + i);

    <span class="keyword">for</span> (; i &lt; length; i++) {
        <span class="keyword">if</span> (i <span class="keyword">in</span> self &amp;&amp; self[i] === sought) {
            <span class="keyword">return</span> i;
        }
    }
    <span class="keyword">return</span> -<span class="number">1</span>;
  };</pre></div></div>
            
        </li>
        
        
        <li id="section-147">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-147">&#182;</a>
              </div>
              <p>Core Library</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
  select = select || <span class="function"><span class="keyword">function</span> <span class="params">(selector, root)</span> {</span></pre></div></div>
            
        </li>
        
        
        <li id="section-148">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-148">&#182;</a>
              </div>
              <p>Set root to given root or document</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    root = root || doc;

    <span class="keyword">return</span> root.querySelectorAll(selector);
  };

  <span class="comment">/**
   * The main Hilo Object / function
   * 
   * @module Hilo
   * @static
   * @class hilo
   * @author Erik Royall
   */</span>
  hilo = <span class="function"><span class="keyword">function</span> <span class="params">(input, root, en)</span> {</span>
    <span class="keyword">if</span> (<span class="keyword">typeof</span> input === <span class="string">"undefined"</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-149">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-149">&#182;</a>
              </div>
              <p>It&#39;s better than not returning anything</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="keyword">return</span> win.Hilo;
    } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> input === <span class="string">"string"</span>) {
      <span class="keyword">if</span> (input.trim() === <span class="string">""</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-150">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-150">&#182;</a>
              </div>
              <p>Can&#39;t pass empty string to querySelectorAll()</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">return</span> <span class="keyword">new</span> Dom({length:<span class="number">0</span>});
      }</pre></div></div>
            
        </li>
        
        
        <li id="section-151">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-151">&#182;</a>
              </div>
              <p>Most common, return based on selector</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="keyword">return</span> <span class="keyword">new</span> Dom(select(input, root, en), input);
    } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> input === <span class="string">"function"</span>) {
      <span class="keyword">if</span> (document.readyState === <span class="string">"complete"</span>) {
        input();
      } <span class="keyword">else</span> {
        callbacks.push(input);
      }</pre></div></div>
            
        </li>
        
        
        <li id="section-152">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-152">&#182;</a>
              </div>
              <p>Allows to immediately start executing more code
It&#39;s better than not returning anything!</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="keyword">return</span> win.Hilo;
    } <span class="keyword">else</span> <span class="keyword">if</span> (input.length) { <span class="comment">// DOM Node List | Hilo DOM Object</span>
      <span class="keyword">return</span> <span class="keyword">new</span> Dom(input);
    } <span class="keyword">else</span> { <span class="comment">// DOM Node</span>
      input = [input];
      <span class="keyword">return</span> <span class="keyword">new</span> Dom(input);
    }
  };</pre></div></div>
            
        </li>
        
        
        <li id="section-153">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-153">&#182;</a>
              </div>
              <p>Enable Selector Caching</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  hilo.temp = {};</pre></div></div>
            
        </li>
        
        
        <li id="section-154">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-154">&#182;</a>
              </div>
              <p>Version info</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  hilo.version = <span class="string">"0.1.0-pre-dev-beta-9"</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-155">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-155">&#182;</a>
              </div>
              <p>Detections</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  hilo.feature = feature;
  hilo.browser = detected.browser;
  hilo.engine = detected.engine;
  hilo.platform = detected.system;</pre></div></div>
            
        </li>
        
        
        <li id="section-156">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-156">&#182;</a>
              </div>
              <p>ES Utils</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  hilo.each = each;
  hilo.extend = extend;
  hilo.every = every;
  hilo.trim = trim;
  hilo.contains = contains;
  hilo.indexOf = indexOf;
  hilo.isPrimitive = isPrimitive;
  hilo.toObject = toObject;
  hilo.toInteger = toInteger;</pre></div></div>
            
        </li>
        
        
        <li id="section-157">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-157">&#182;</a>
              </div>
              <p>JSON</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  hilo.json = {
    parse: json.parse,
    stringify: json.stringify
  };</pre></div></div>
            
        </li>
        
        
        <li id="section-158">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-158">&#182;</a>
              </div>
              <p>Legacy</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
  hilo.legacy = <span class="keyword">typeof</span> sizzle === <span class="string">"function"</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-159">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-159">&#182;</a>
              </div>
              <hr>
<h2>Testing</h2>

            </div>
            
            <div class="content"><div class='highlight'><pre>
  extend(hilo, {

    <span class="comment">/**
     * Public test function
     *
     * @for hilo
     * @method test
     * @param con
     * @return {Test}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $.test("hello");
     * $.test({
     *   name: "Erik Royall",
     *   age: 14,
     *   projects: ["hilo", "helio"]
     * });
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    test: <span class="function"><span class="keyword">function</span> <span class="params">(con)</span> {</span>
      <span class="keyword">return</span> <span class="keyword">new</span> Test(con);
    }
  });

  <span class="comment">/**
   * Main Test Class
   *
   * @constructor
   * @class Test
   * @param {Any} con To compare
   * @param {boolean} neg Whether to inverse the result
   * @return void
   * @example
   * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
   * new Test({});
   * new Test("Hilo", true);
   * &lt;/pre&gt;&lt;/div&gt;
   * @since 0.1.0
   */</span>
  <span class="function"><span class="keyword">function</span> <span class="title">Test</span> <span class="params">(con, neg)</span> {</span>
    <span class="keyword">this</span>.con = con;
    
    <span class="keyword">if</span> (neg) {
      <span class="keyword">this</span>.neg = <span class="literal">true</span>;
    }
  }</pre></div></div>
            
        </li>
        
        
        <li id="section-160">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-160">&#182;</a>
              </div>
              <hr>
<h2>Test Comparisions</h2>

            </div>
            
            <div class="content"><div class='highlight'><pre>
  extend(Test.prototype, {

    <span class="comment">/**
     * Test if equal
     *
     * @for Test
     * @method ifEquals
     * @param {Any} tw Comparision object
     * @return {boolean}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * var isIt = $.test(hilo.version).ifEquals("v0.1.0-pre-dev-beta-9");
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    ifEquals: <span class="function"><span class="keyword">function</span> <span class="params">(tw)</span> {</span>
      <span class="keyword">var</span> val = <span class="keyword">this</span>.con === tw;
      <span class="keyword">return</span> <span class="keyword">this</span>.neg ? !val : val;
    },

    <span class="comment">/**
     * Test if contains
     *
     * @for Test
     * @method ifContains
     * @param {Any} tw Comparision object
     * @return {boolean}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * var isHiloBeta = $.test(hilo.version).ifContains("beta");
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    ifContains: <span class="function"><span class="keyword">function</span> <span class="params">(tw)</span> {</span>
      <span class="keyword">var</span> ifString = <span class="keyword">this</span>.con.split(tw).length === <span class="number">1</span> ? <span class="literal">false</span> : <span class="literal">true</span>;
      <span class="keyword">if</span> (<span class="keyword">typeof</span> tw === <span class="string">"string"</span> &amp;&amp; <span class="keyword">typeof</span> <span class="keyword">this</span>.con === <span class="string">"object"</span> &amp;&amp; <span class="keyword">this</span>.con.length) {

      } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> tw === <span class="string">"string"</span> &amp;&amp; <span class="keyword">typeof</span> <span class="keyword">this</span>.con === <span class="string">"string"</span>) {
        <span class="keyword">return</span> <span class="keyword">this</span>.neg ? !ifString : ifString;
      }
    },

    <span class="comment">/**
     * Inverse a test
     *
     * @for Test
     * @method not
     * @return {Test}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("Hilo.js").not().ifEquals("Hilo");
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    not: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
      <span class="keyword">return</span> <span class="keyword">new</span> Test(<span class="keyword">this</span>, <span class="literal">true</span>);
    }
  });</pre></div></div>
            
        </li>
        
        
        <li id="section-161">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-161">&#182;</a>
              </div>
              <hr>
<h2>Hilo AJAX</h2>

            </div>
            
            <div class="content"><div class='highlight'><pre>
  <span class="comment">/**
   * Makes an AJAX request
   * 
   * @for hilo
   * @method ajax
   * @param {object} config AJAX configuration options
   * @return {Hilo}
   * @examples
   * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
   * $.ajax({
   *   url: "requestHandler.php",
   *   success: function (data, xhr) {
   *     console.log(data, xhr);
   *   },
   *   method: "GET"
   * });
   * &lt;/pre&gt;&lt;/div&gt;
   * @since 0.1.0
   */</span>
  hiloAjax = <span class="function"><span class="keyword">function</span> <span class="params">(config)</span> {</span>
      
    <span class="comment">/*
     *
     * config:
     *  
     * - method: HTTP Method "GET" or "POST" (default: "POST")
     * - url: The file to send request
     * - async: Whether to perform an asynchronous request (default: true)
     * - data: The data to be sent to the server
     * - response: Response type "text" or "XML"
     * - Event functions
     *   - callback: fn to be exec. on readystatechange
     *   - complete
     *   - error
     *   - timeout
     *   - success
     *   - notfound
     *   - forbidden
     * - username
     * - password
     * - contentType
     *
     */</span>
    
    <span class="keyword">var</span> xhr;

    <span class="keyword">if</span> (win.XMLHttpRequest) {
      xhr = <span class="keyword">new</span> win.XMLHttpRequest();
    } <span class="keyword">else</span> <span class="keyword">if</span> (win.ActiveXObject) {
      xhr = <span class="keyword">new</span> win.ActiveXObject(<span class="string">"Microsoft.XMLHTTP"</span>);
    }

    <span class="keyword">if</span> (!config.url) {
      <span class="keyword">throw</span> <span class="keyword">new</span> TypeError(<span class="string">"url parameter not provided to hilo.ajax"</span>);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-162">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-162">&#182;</a>
              </div>
              <p>Set defaults</p>

            </div>
            
        </li>
        
        
        <li id="section-163">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-163">&#182;</a>
              </div>
              <p>Asynchronous requests are preferred</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    config.async = config.async || <span class="literal">true</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-164">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-164">&#182;</a>
              </div>
              <p>Authentication params</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    config.username = config.username || <span class="literal">null</span>;
    config.password = config.password || <span class="literal">null</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-165">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-165">&#182;</a>
              </div>
              <p>contentType application/x-www-form-urlencoded; charset=UTF-8 is preferred</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    config.contentType = config.contentType || <span class="string">"application/x-www-form-urlencoded; charset=UTF-8"</span>;

    xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
      <span class="keyword">if</span> (config.callback) {
        config.callback(xhr);
      }

      <span class="keyword">if</span> (xhr.readyState === <span class="number">4</span>) { <span class="comment">// Request is completed</span>
        <span class="keyword">typeof</span> config.complete ? config.complete.call(<span class="keyword">this</span>, xhr) : <span class="literal">null</span>;
        
        <span class="keyword">switch</span> (xhr.status) {
          <span class="keyword">case</span> <span class="number">200</span>: <span class="comment">// Success</span>
            <span class="keyword">typeof</span> config.success ? config.success.call(<span class="keyword">this</span>, xhr) : <span class="literal">null</span>;
            <span class="keyword">typeof</span> config.error ? config.error.call(<span class="keyword">this</span>, xhr) : <span class="literal">null</span>;
            <span class="keyword">break</span>;

          <span class="keyword">case</span> <span class="number">404</span>: <span class="comment">// Not Found</span>
            <span class="keyword">typeof</span> config.notfound ? config.notfound.call(<span class="keyword">this</span>, xhr) : <span class="literal">null</span>;
            <span class="keyword">typeof</span> config.error ? config.error.call(<span class="keyword">this</span>, xhr) : <span class="literal">null</span>;
            <span class="keyword">break</span>;

          <span class="keyword">case</span> <span class="number">403</span>: <span class="comment">// Forbidden</span>
            <span class="keyword">typeof</span> config.forbidden ? config.forbidden.call(<span class="keyword">this</span>, xhr) : <span class="literal">null</span>;
            <span class="keyword">typeof</span> config.error ? config.error.call(<span class="keyword">this</span>, xhr) : <span class="literal">null</span>;
            <span class="keyword">break</span>;

          <span class="keyword">default</span>: <span class="comment">// Some Error</span>
            <span class="keyword">typeof</span> config.error ? config.error.call(<span class="keyword">this</span>, xhr) : <span class="literal">null</span>;
            <span class="keyword">break</span>;
        }
      } <span class="keyword">else</span> <span class="keyword">if</span> (xhr.readyState === <span class="number">3</span>) {
        <span class="keyword">typeof</span> config.sent ? config.sent.call(<span class="keyword">this</span>, xhr) : <span class="literal">null</span>;
      }
    };

    xhr.timeout = config.timeout;

    <span class="keyword">if</span> (<span class="keyword">typeof</span> config.method === <span class="string">"string"</span>) {
      <span class="keyword">if</span> (config.method.trim().toUpperCase() === <span class="string">"POST"</span>) {
        xhr.open(
          <span class="string">"POST"</span>,
          config.url,
          config.async,
          config.username,
          config.password
        );

        xhr.send(config.data);
      } <span class="keyword">else</span> <span class="keyword">if</span> (config.method.trim().toUpperCase() === <span class="string">"GET"</span>) {
        xhr.open(
          <span class="string">"GET"</span>,
          config.url + (config.data ? <span class="string">"+"</span> + config.data : <span class="string">""</span>),
          config.async,
          config.username,
          config.password
        );

        xhr.send(<span class="keyword">typeof</span> config.data === <span class="string">"string"</span> ? config.data : <span class="literal">null</span>);
      }
    } <span class="keyword">else</span> {
      xhr.open(
        config.method.trim().toUpperCase(),
        config.url + (config.data ? <span class="string">"+"</span> + config.data : <span class="string">''</span>),
        config.async,
        config.username,
        config.password
      );

      xhr.send(<span class="keyword">typeof</span> config.data === <span class="string">"string"</span> ? config.data : <span class="literal">null</span>);
    }
  };

  hilo.ajax = hiloAjax;</pre></div></div>
            
        </li>
        
        
        <li id="section-166">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-166">&#182;</a>
              </div>
              <hr>
<h2>AJAX Simplifiers</h2>

            </div>
            
            <div class="content"><div class='highlight'><pre>
  <span class="function"><span class="keyword">function</span> <span class="title">ajaxRequest</span> <span class="params">(method, strOpt, callback, oOpt)</span> {</span></pre></div></div>
            
        </li>
        
        
        <li id="section-167">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-167">&#182;</a>
              </div>
              <p>How does this function work?</p>
<p>Let&#39;s forget about the method parameter</p>
<ol>
<li>If &quot;strOpt&quot; is a string, and &quot;callback&quot; is a function,
a. If &quot;oOpt&quot; is an object, then all props. of &quot;oOpt&quot; and
   {method:method,url:strOpt,success:callback} is passed
   as the first parameter to the hiloAjax function.
b. If &quot;oOpt&quot; is not an object, hiloAjax is called with
   {method:method,url:strOpt,success:callback} as the 
   first parameter.</li>
<li>Else, hiloAjax is called with {method:method} and strOpt
as the first parameter.</li>
</ol>
<p>Note: &quot;method&quot; is the HTTP Req. method (&quot;GET&quot;, &quot;POST&quot; or alike)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    oOpt = (<span class="keyword">typeof</span> oOpt === <span class="string">"object"</span> ? oOpt : <span class="literal">undefined</span>);
    
    <span class="keyword">if</span> (<span class="keyword">typeof</span> strOpt === <span class="string">"string"</span> &amp;&amp; <span class="keyword">typeof</span> callback === <span class="string">"function"</span>) {
      hiloAjax(extend({
        method: method,
        url: strOpt,</pre></div></div>
            
        </li>
        
        
        <li id="section-168">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-168">&#182;</a>
              </div>
              <p>&#39;success&#39; and not &#39;callback&#39; because that&#39;s what everyone wants</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        success: callback
      }, oOpt));
    } <span class="keyword">else</span> {
      hiloAjax(extend({
        method: method
      }, strOpt));
    }
  }

  <span class="comment">/**
   * Send an AJAX GET Request
   *
   * @for hilo
   * @method get
   * @param {string|object} strOpt File path or Options
   * @param {function|object} callback The function to execute
   * @param {object} Options
   * @example
   * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
   * $.get({
   *   url: "path/to/file.js",
   *   success: function (data) {
   *     console.log(data);
   *   }
   * }); // Longer form, the below is preferred
   * &lt;/pre&gt;&lt;/div&gt;
   *
   * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
   * $.get("path/to/file.js", function (data) {
   *   console.log(data);
   * }); // This does the exact same function as above
   * &lt;/pre&gt;&lt;/div&gt;
   *
   * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
   * $.get("path/to/file.js", function (data) {
   *   console.log(data);
   * }, {
   *   error: function (err) {
   *     console.error(err);
   *   }
   * }); // Shortform, with more options
   * &lt;/pre&gt;&lt;/div&gt;
   * @since 0.1.0
   */</span>
  hilo.get = <span class="function"><span class="keyword">function</span> <span class="params">(strOpt, callback, oOpt)</span> {</span>
    ajaxRequest(<span class="string">"GET"</span>, strOpt, callback, oOpt);
  };

  <span class="comment">/**
   * Send an AJAX POST Request
   *
   * @for hilo
   * @method post
   * @param {string|object} strOpt File path or Options
   * @param {function|object} callback The function to execute
   * @param {object} Options
   * @example
   * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
   * $.post({
   *   url: "path/to/file.js",
   *   success: function (data) {
   *     console.log(data);
   *   },
   *   data: JSON.encode(obj)
   * }); // Longer form, the below is preferred
   * &lt;/pre&gt;&lt;/div&gt;
   *
   * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
   * $.post("path/to/file.js", function (data) {
   *   console.log(data);
   * }, {
   *   data: JSON.encode(obj),
   *   error: function (err) {
   *     console.error(err);
   *   }
   * }); // Shortform, with more options
   * &lt;/pre&gt;&lt;/div&gt;
   * @since 0.1.0
   */</span>
  hilo.post = <span class="function"><span class="keyword">function</span> <span class="params">(strOpt, callback, oOpt)</span> {</span>
    ajaxRequest(<span class="string">"POST"</span>, strOpt, callback, oOpt);
  };</pre></div></div>
            
        </li>
        
        
        <li id="section-169">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-169">&#182;</a>
              </div>
              <hr>
<h2>Hilo DOM</h2>

            </div>
            
            <div class="content"><div class='highlight'><pre>
  <span class="comment">/**
   * Main DOM Class
   * 
   * @class Dom
   * @constructor
   * @param {array} els The elements to manipulate
   * @param {string} sel The selector used
   * @return void
   * @example
   * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
   * new Dom (document.querySelectorAll(p:first-child);
   * new Dom ([document.createElement("div")]);
   * new Dom ([document.getElementByid("box")]);
   * new Dom (document.getElementsByClassName("hidden"));
   * new Dom (document.getElementsByTagName("mark"));
   * &lt;/pre&gt;&lt;/div&gt;
   * @since 0.1.0
   */</span>
  <span class="function"><span class="keyword">function</span> <span class="title">Dom</span> <span class="params">(els, sel)</span> {</span>
    <span class="keyword">var</span> _i, _l;</pre></div></div>
            
        </li>
        
        
        <li id="section-170">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-170">&#182;</a>
              </div>
              <p>Note that <code>this</code> is an object and NOT an Array</p>

            </div>
            
        </li>
        
        
        <li id="section-171">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-171">&#182;</a>
              </div>
              <p>Loop thorugh the NodeList and set <code>this[index]</code> for <code>els[index]</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">for</span> (_i = <span class="number">0</span>, _l = els.length; _i &lt; _l; _i += <span class="number">1</span>) {
      <span class="keyword">this</span>[_i] = els[_i];
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-172">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-172">&#182;</a>
              </div>
              <p>Useful for looping through as ours is an object and not an array</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">this</span>.length = els.length;</pre></div></div>
            
        </li>
        
        
        <li id="section-173">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-173">&#182;</a>
              </div>
              <p>Know what selector is used to select the elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">this</span>.sel = sel;
  }</pre></div></div>
            
        </li>
        
        
        <li id="section-174">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-174">&#182;</a>
              </div>
              <p>Make it <em>look</em> like an array</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  Dom.prototype = Array.prototype;

  extend(Dom.prototype, {</pre></div></div>
            
        </li>
        
        
        <li id="section-175">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-175">&#182;</a>
              </div>
              <p>Set the constructor to Dom. It defaults to Array. We don&#39;t that</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    constructor: Dom
  });</pre></div></div>
            
        </li>
        
        
        <li id="section-176">
            <div class="annotation">
              
              <div class="pilwrap for-h3">
                <a class="pilcrow" href="#section-176">&#182;</a>
              </div>
              <h3>Hilo CSS Helper Methods</h3>

            </div>
            
        </li>
        
        
        <li id="section-177">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-177">&#182;</a>
              </div>
              <p>Return a string repacing all <code>-</code>&#39;s with <code>&quot;&quot;</code> and making the letter
next to every <code>-</code> uppercase</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="function"><span class="keyword">function</span> <span class="title">unhyph</span> <span class="params">(prop)</span> {</span>
    <span class="keyword">return</span> prop.toLowerCase().replace(<span class="regexp">/-(.)/g</span>, <span class="function"><span class="keyword">function</span> <span class="params">(m, m1)</span> {</span>
      <span class="keyword">return</span> m1.toUpperCase();
    });
  }</pre></div></div>
            
        </li>
        
        
        <li id="section-178">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-178">&#182;</a>
              </div>
              <p>Add necessary suffix to the number for certain CSS properties
<em>This will later be used by .css() and a number of other methods</em></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="function"><span class="keyword">function</span> <span class="title">unitize</span> <span class="params">(unit, prop)</span> {</span></pre></div></div>
            
        </li>
        
        
        <li id="section-179">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-179">&#182;</a>
              </div>
              <p>All the CSS props. that are to be defaulted to px values</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">var</span> pixel = {
      <span class="string">"width"</span>: <span class="literal">true</span>,
      <span class="string">"maxWidth"</span>: <span class="literal">true</span>,
      <span class="string">"minWidth"</span>: <span class="literal">true</span>,

      <span class="string">"height"</span>: <span class="literal">true</span>,
      <span class="string">"maxHeight"</span>: <span class="literal">true</span>,
      <span class="string">"minHeight"</span>: <span class="literal">true</span>,

      <span class="string">"borderWidth"</span>: <span class="literal">true</span>,
      <span class="string">"borderTopWidth"</span>: <span class="literal">true</span>,
      <span class="string">"borderLeftWidth"</span>: <span class="literal">true</span>,
      <span class="string">"borderBottomWidth"</span>: <span class="literal">true</span>,
      <span class="string">"borderRightWidth"</span>: <span class="literal">true</span>,
      <span class="string">"borderRadius"</span>: <span class="literal">true</span>,

      <span class="string">"outlineWidth"</span>: <span class="literal">true</span>,
      <span class="string">"outlineOffset"</span>: <span class="literal">true</span>,
      <span class="string">"strokeWidth"</span>: <span class="literal">true</span>,

      <span class="string">"fontSize"</span>: <span class="literal">true</span>,
      <span class="string">"lineHeight"</span>: <span class="literal">true</span>,
      <span class="string">"letterSpacing"</span>: <span class="literal">true</span>,
      <span class="string">"textIndent"</span>: <span class="literal">true</span>,
      <span class="string">"textUnderlineWidth"</span>: <span class="literal">true</span>,

      <span class="string">"margin"</span>: <span class="literal">true</span>,
      <span class="string">"marginTop"</span>: <span class="literal">true</span>,
      <span class="string">"marginLeft"</span>: <span class="literal">true</span>,
      <span class="string">"marginBottom"</span>: <span class="literal">true</span>,
      <span class="string">"marginRight"</span>: <span class="literal">true</span>,

      <span class="string">"padding"</span>: <span class="literal">true</span>,
      <span class="string">"paddingTop"</span>: <span class="literal">true</span>,
      <span class="string">"paddingLeft"</span>: <span class="literal">true</span>,
      <span class="string">"paddingBottom"</span>: <span class="literal">true</span>,
      <span class="string">"paddingRight"</span>: <span class="literal">true</span>,

      <span class="string">"top"</span>: <span class="literal">true</span>,
      <span class="string">"left"</span>: <span class="literal">true</span>,
      <span class="string">"bottom"</span>: <span class="literal">true</span>,
      <span class="string">"right"</span>: <span class="literal">true</span>
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-180">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-180">&#182;</a>
              </div>
              <p>String values are not be unitized no matter what</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">if</span> (<span class="keyword">typeof</span> unit === <span class="string">"string"</span>) {
      <span class="keyword">return</span> unit;
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-181">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-181">&#182;</a>
              </div>
              <p>If the property is present in the previously mentioned
object, the unit is suffixed with &quot;px&quot;</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">if</span> (pixel[prop] === <span class="literal">true</span>) {
      <span class="keyword">return</span> unit + <span class="string">"px"</span>;
    }

    <span class="keyword">return</span> unit;
  }</pre></div></div>
            
        </li>
        
        
        <li id="section-182">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-182">&#182;</a>
              </div>
              <p>Create an element</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
  <span class="comment">/**
   * Create an element
   *
   * @for hilo
   * @method create
   * @param {string} tagName Tag Name or Node name of element
   * @attrs {object} attrs An object containing the attributes and values
   * @return {HTMLElement} The created element
   * @example
   * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
   * $.create("div", {
   *   class: "post",
   *   "data-id": 2
   * });
   * &lt;/pre&gt;&lt;/div&gt;
   * @since 0.1.0
   */</span>
  hilo.create = <span class="function"><span class="keyword">function</span> <span class="params">(tagName, attrs)</span> {</span>
    <span class="keyword">var</span> el = <span class="keyword">new</span> Dom([document.createElement(tagName)]), key;

    <span class="keyword">if</span> (attrs) {</pre></div></div>
            
        </li>
        
        
        <li id="section-183">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-183">&#182;</a>
              </div>
              <p>Add Class if the <code>className</code> is sset</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="keyword">if</span> (attrs.className) {
        el.addClass(attrs.className);
        <span class="keyword">delete</span> attrs.className;
      }</pre></div></div>
            
        </li>
        
        
        <li id="section-184">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-184">&#182;</a>
              </div>
              <p>Set html to if <code>text</code> content is given</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="keyword">if</span> (attrs.text) {
        el.html(attrs.text);
        <span class="keyword">delete</span> attrs.text;
      }</pre></div></div>
            
        </li>
        
        
        <li id="section-185">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-185">&#182;</a>
              </div>
              <p>Set other attributes</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="keyword">for</span> (key <span class="keyword">in</span> attrs) {
        <span class="keyword">if</span>(attrs.hasOwnProperty(key)) {
          el.attr(key, attrs[<span class="string">"key"</span>]);
        }
      }
    }

    <span class="keyword">return</span> el;
  };

  extend(Dom.prototype, {</pre></div></div>
            
        </li>
        
        
        <li id="section-186">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-186">&#182;</a>
              </div>
              <hr>
<h2>Helper Functions</h2>

            </div>
            
        </li>
        
        
        <li id="section-187">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-187">&#182;</a>
              </div>
              <p>Execute a function on selected elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Execute a function on selected elements
     * 
     * @for Dom
     * @method each
     * @param {function} fn The function to be called on
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("p").each(function (el) {
     *   doSomethingWith(e);
     * });
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    each: <span class="function"><span class="keyword">function</span> <span class="params">(fn)</span> {</span>
      <span class="keyword">this</span>.map(fn);
      <span class="keyword">return</span> <span class="keyword">this</span>; <span class="comment">// return the current Dom instance</span>
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-188">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-188">&#182;</a>
              </div>
              <p>Return the results of executing a function 
on all the selected elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Return the results of executing a function 
     * on all the selected elements
     * 
     * @for Dom
     * @method map
     * @param {function} fn The function to be called on
     * @return {array} The results of execution
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("div.need-cf").map(function (e) {
     *   doSomethingWith(e);
     * });
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    map: <span class="function"><span class="keyword">function</span> <span class="params">(fn)</span> {</span>
      <span class="keyword">var</span> results = []
        , _i
        , _l;

      <span class="keyword">for</span> (_i = <span class="number">0</span>, _l = <span class="keyword">this</span>.length; _i &lt; _l; _i += <span class="number">1</span>) {
        results.push(fn.call(<span class="keyword">this</span>, <span class="keyword">this</span>[_i], _i));
      }

      <span class="keyword">return</span> results;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-189">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-189">&#182;</a>
              </div>
              <p>Map on selected elements and return them based 
on the number of selected elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Map on selected elements and return them based 
     * on the number of selected elements
     * 
     * @for Dom
     * @method one
     * @param {function} fn Function to be called on
     * @return {Any|array}
     * @since 0.1.0
     */</span>
    one: <span class="function"><span class="keyword">function</span> <span class="params">(fn)</span> {</span>
      <span class="keyword">var</span> m = <span class="keyword">this</span>.map(fn);
      <span class="keyword">return</span> m.length &gt; <span class="number">1</span> ? m : m[<span class="number">0</span>];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-190">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-190">&#182;</a>
              </div>
              <p>Execute a function on the first selected element</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Execute a function on the first selected element
     * 
     * @for Dom
     * @method first
     * @param {function} fn The function to be called
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("div").first(function (e) {
     *   console.log(e + " is the first div");
     * });
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    first: <span class="function"><span class="keyword">function</span> <span class="params">(fn)</span> {</span>
      <span class="keyword">return</span> fn(<span class="keyword">this</span>[<span class="number">0</span>]);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-191">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-191">&#182;</a>
              </div>
              <p>Filters the selected elements and returns the 
elements that pass the test (or return true)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Filters the selected elements and returns the 
     * elements that pass the test (or return true)
     * 
     * @for Dom
     * @method filter
     * @param {function} fn The filter function
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("div").filter(function (el) {
     *   return el.className.split("hidden").length &gt; 1;
     * });
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    filter: <span class="function"><span class="keyword">function</span> <span class="params">(fn)</span> {</span>
      <span class="keyword">var</span> len = <span class="keyword">this</span>.length &gt;&gt;&gt; <span class="number">0</span>
        , _i
        , t = Object(<span class="keyword">this</span>)
        , res = []
        , val;

      <span class="keyword">for</span> (_i = <span class="number">0</span>; _i &lt; len; _i++) {
        <span class="keyword">if</span> (_i <span class="keyword">in</span> t) {
          val = t[_i];

          <span class="keyword">if</span> (fn.call(<span class="keyword">this</span>, val, _i, t)) {
            res.push(val);
          }
        }
      }

      <span class="keyword">return</span> <span class="keyword">new</span> Dom(res);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-192">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-192">&#182;</a>
              </div>
              <hr>
<h2>Element Selections, etc.</h2>

            </div>
            
        </li>
        
        
        <li id="section-193">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-193">&#182;</a>
              </div>
              <p>Get a JavaScript Array containing selected elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Get a JavaScript Array containing selected elements
     * 
     * @for Dom
     * @method get
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("script").get();
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    get: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
      <span class="keyword">var</span> els = [];

      <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
        els.push(el);
      });

      <span class="keyword">return</span> els;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-194">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-194">&#182;</a>
              </div>
              <p>Return first element of the selected elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Return first element of the selected elements
     *
     * @for Dom
     * @method firstEl
     * @return {Dom} The first element
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("p.hidden").firstEl().show();
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    firstEl: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
      <span class="keyword">return</span> <span class="keyword">new</span> Dom([<span class="keyword">this</span>[<span class="number">0</span>]]);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-195">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-195">&#182;</a>
              </div>
              <p>Return last element of the selected elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Return last element of the selected elements
     *
     * @for Dom
     * @method lastEl
     * @return {Dom} The last element
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("p.hidden").lastEl().show();
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    lastEl: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
      <span class="keyword">return</span> <span class="keyword">new</span> Dom([<span class="keyword">this</span>[<span class="keyword">this</span>.length - <span class="number">1</span>]]);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-196">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-196">&#182;</a>
              </div>
              <p>Return nth element of the selected elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Return nth element of the selected elements
     *
     * @for Dom
     * @method el
     * @return {number} place The index of element (Index Starts from 1)
     * @return {Dom} The nth element
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("p.hidden").el(3).show();
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    el: <span class="function"><span class="keyword">function</span> <span class="params">(place)</span> {</span>
      <span class="keyword">return</span> <span class="keyword">new</span> Dom([<span class="keyword">this</span>[place - <span class="number">1</span>]]);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-197">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-197">&#182;</a>
              </div>
              <p>Return the children of selected elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Return the children of selected elements
     *
     * @for Dom
     * @method children
     * @param {string} sel Optional filtering selector
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * var childrenOfContainer = $("div.container").children();
     * $("div.container").children(":not(.hidden)").addClass("me");
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    children: <span class="function"><span class="keyword">function</span> <span class="params">(sel)</span> {</span>
      <span class="keyword">var</span> children = [], _i, _l;

      <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
        <span class="keyword">var</span> childNodes = select(sel ? sel : <span class="string">"*"</span>, el);

        <span class="keyword">for</span> (_i = <span class="number">0</span>, _l = childNodes.length; _i &lt; _l; _i += <span class="number">1</span>) {
          children = children.concat(childNodes[_i]);
        }
      });

      <span class="keyword">return</span> children;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-198">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-198">&#182;</a>
              </div>
              <p>Returns the parents of selected elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Returns the parents of selected elements
     *
     * @for Dom
     * @method parents
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("div#editor").parent().hide()
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    parents: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
      <span class="keyword">var</span> pars = [];

      <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
        pars = pars.concat(el.parentElement);
      });

      <span class="keyword">return</span> <span class="keyword">new</span> Dom(pars);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-199">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-199">&#182;</a>
              </div>
              <p>Return parent of first selected element</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Return parent of first selected element
     *
     * @for Dom
     * @method parent
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("div.editor").parent().hide();
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    parent: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
      <span class="keyword">return</span> <span class="keyword">this</span>.first(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
        <span class="keyword">return</span> <span class="keyword">new</span> Dom([el.parentElement]);
      });
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-200">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-200">&#182;</a>
              </div>
              <p>Return relative of selected elements based 
on the relation given</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Return relative of selected elements based 
     * on the relation given
     * 
     * @for Dom
     * @method rel
     * @param {string} relation relation
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("div#editor").rel("nextSibling").addClass("next-to-editor")
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    rel: <span class="function"><span class="keyword">function</span> <span class="params">(sul)</span> {</span>
      <span class="keyword">var</span> els = [];

      <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
        els.push(el[sul]);
      });

      <span class="keyword">return</span> els;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-201">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-201">&#182;</a>
              </div>
              <p>Return next sibling elements of selected elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Return next sibling elements of selected elements
     *
     * @for Dom
     * @method next
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("div.editor").next().class("next-to-editor")
     * &lt;/pre&gt;&lt;/div&gt;
     */</span>
    next: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
      <span class="keyword">return</span> <span class="keyword">this</span>.rel(<span class="string">"nextElementSibling"</span>);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-202">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-202">&#182;</a>
              </div>
              <p>Return previous sibling elements of selected elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Return previous sibling elements of selected elements
     *
     * @for Dom
     * @method prev
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("div.editor").prev().class("prev-to-editor")
     * &lt;/pre&gt;&lt;/div&gt;
     */</span>
    prev: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
      <span class="keyword">return</span> <span class="keyword">this</span>.rel(<span class="string">"previousElementSibling"</span>);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-203">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-203">&#182;</a>
              </div>
              <hr>
<h2>DOM HTML</h2>

            </div>
            
        </li>
        
        
        <li id="section-204">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-204">&#182;</a>
              </div>
              <p>Set or return innerHTML of selected elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Set or return innerHTML of selected elements
     * 
     * @for Dom
     * @method html
     * @param {string} html HTML Code to be inserted
     * @return {string|void}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("p:first-child").html("first-p")
     * var html = $("span").html()
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    html: <span class="function"><span class="keyword">function</span> <span class="params">(htmlCode)</span> {</span>
      <span class="keyword">if</span> (<span class="keyword">typeof</span> htmlCode !== <span class="string">"undefined"</span>) {
        <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="keyword">function</span>(el) {
          el.innerHTML = htmlCode;
        });
      } <span class="keyword">else</span> {
        <span class="keyword">return</span> <span class="keyword">this</span>.first(<span class="keyword">function</span>(el) {
          <span class="keyword">return</span> el.innerHTML;
        });
      }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-205">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-205">&#182;</a>
              </div>
              <p>Empty the selected elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Empty the selected elements
     * 
     * @for Dom
     * @method empty
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("#todo-list").empty()
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    empty: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
      <span class="keyword">return</span> <span class="keyword">this</span>.html(<span class="string">""</span>);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-206">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-206">&#182;</a>
              </div>
              <p>Append html to selected elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Append html to selected elements
     * 
     * @for Dom
     * @method append
     * @param {string} html The HTML Code to be appended
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("p:first-child").append(" - From the first p child")
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    append: <span class="function"><span class="keyword">function</span> <span class="params">(html)</span> {</span>
      <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
        el.innerHTML += html;
      });
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-207">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-207">&#182;</a>
              </div>
              <p>Prepend html to selected elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Prepend html to selected elements
     * 
     * @for Dom
     * @method prepend
     * @param {string} html The HTML Code to be prepended
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("p.subject").prepend("Subject: ")
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    prepend: <span class="function"><span class="keyword">function</span> <span class="params">(html)</span> {</span>
      <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
        el.innerHTML = html + el.innerHTML;
      });
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-208">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-208">&#182;</a>
              </div>
              <p>Get or set the value attribute of selected element</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Get or set the value attribute of selected element
     * 
     * @for Dom
     * @method value
     * @param val The value to set to
     * @return {string|void}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("#my-form").children("input#name").value();
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    value: <span class="function"><span class="keyword">function</span> <span class="params">(val)</span> {</span>
      <span class="keyword">if</span> (val) {
        <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
          el.value = val;
        });
      } <span class="keyword">else</span> {
        <span class="keyword">this</span>.first(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
          <span class="keyword">return</span> el.value;
        });
      }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-209">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-209">&#182;</a>
              </div>
              <hr>
<h2>Classes and IDs</h2>

            </div>
            
        </li>
        
        
        <li id="section-210">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-210">&#182;</a>
              </div>
              <p>Set or return ID of first element</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Set or return ID of first element
     *  
     * @for Dom
     * @method id
     * @param {string} id The id to set
     * @return {string|void}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("p.rect").first().id("square")
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    id: <span class="function"><span class="keyword">function</span> <span class="params">(id)</span> {</span>
      <span class="keyword">if</span> (id) {</pre></div></div>
            
        </li>
        
        
        <li id="section-211">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-211">&#182;</a>
              </div>
              <p>Setting id of only one element because
id is intended to be an unique identifier</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
        <span class="keyword">return</span> <span class="keyword">this</span>.first(<span class="keyword">function</span>(el) {
          el.id = id;
        });
      } <span class="keyword">else</span> {
        <span class="keyword">return</span> <span class="keyword">this</span>.first(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
          <span class="keyword">return</span> el.id;
        });
      }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-212">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-212">&#182;</a>
              </div>
              <p>Add, remove or check class(es)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Add, remove or check class(es)
     * 
     * @for Dom
     * @method class
     * @param {string} action Specifies the action to take
     * @param {string|array} className Class(es) to be checked or manipulated
     * @return {boolean|void}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("div#editor").class("add", "no-js")
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    <span class="string">"class"</span>: feature.classList === <span class="literal">true</span> ? <span class="function"><span class="keyword">function</span> <span class="params">(action, className)</span> {</span>
      <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
        <span class="keyword">var</span> _i, parts, contains, res = [];

        <span class="keyword">if</span> (<span class="keyword">typeof</span> className === <span class="string">"string"</span>) { <span class="comment">// A String</span>
          parts = className.split(<span class="string">" "</span>);

          <span class="keyword">if</span> (parts.length === <span class="number">1</span>) { <span class="comment">// String, one class</span>
            contains = el.classList.contains(className);

            <span class="keyword">switch</span> (action) {
              <span class="keyword">case</span> <span class="string">"add"</span>: {
                <span class="keyword">if</span> (!contains) {
                  el.classList.add(className);
                }
              } <span class="keyword">break</span>;

              <span class="keyword">case</span> <span class="string">"remove"</span>: {
                <span class="keyword">if</span> (contains) {
                  el.classList.remove(className);
                }
              } <span class="keyword">break</span>;

              <span class="keyword">case</span> <span class="string">"has"</span>: {
                res = <span class="literal">true</span>;
              } <span class="keyword">break</span>;

              <span class="keyword">case</span> <span class="string">"toggle"</span>: {
                <span class="keyword">for</span> (_i = <span class="number">0</span>; _i &lt; parts.length; _i += <span class="number">1</span>) {
                  <span class="keyword">if</span> (contains) {
                    el.classList.remove(parts[_i]);
                  } <span class="keyword">else</span> {
                    el.classList.add(parts[_i]);
                  }
                }
              } <span class="keyword">break</span>;
            }
          } <span class="keyword">else</span> { <span class="comment">// String, many classes</span>
            contains = <span class="function"><span class="keyword">function</span> <span class="params">(className)</span> {</span>
              <span class="keyword">return</span> el.classList.contains(className);
            };

            <span class="keyword">switch</span> (action) {
              <span class="keyword">case</span> <span class="string">"add"</span>: {
                <span class="keyword">for</span> (_i = <span class="number">0</span>; _i &lt; parts.length; _i += <span class="number">1</span>) {
                  <span class="keyword">if</span> (!contains(parts[_i])) {
                    el.classList.add(parts[_i]);
                  }
                }
              } <span class="keyword">break</span>;

              <span class="keyword">case</span> <span class="string">"remove"</span>: {
                <span class="keyword">for</span> (_i = <span class="number">0</span>; _i &lt; parts.length; _i += <span class="number">1</span>) {
                  <span class="keyword">if</span> (contains(parts[_i])) {
                    el.classList.remove(parts[_i]);
                  }
                }
              } <span class="keyword">break</span>;

              <span class="keyword">case</span> <span class="string">"has"</span>: {
                <span class="keyword">for</span> (_i = <span class="number">0</span>; _i &lt; parts.length; _i += <span class="number">1</span>) {
                  res.push(contains(parts[_i]));
                }
              } <span class="keyword">break</span>;

              <span class="keyword">case</span> <span class="string">"toggle"</span>: {
                <span class="keyword">for</span> (_i = <span class="number">0</span>; _i &lt; parts.length; _i += <span class="number">1</span>) {
                  <span class="keyword">if</span> (contains(parts[_i])) {
                    el.classList.remove(parts[_i]);
                  } <span class="keyword">else</span> {
                    el.classList.add(parts[_i]);
                  }
                }
              } <span class="keyword">break</span>;
            }
          }
        } <span class="keyword">else</span> <span class="keyword">if</span> (className.length) { <span class="comment">// Array</span>
          parts = className;

          contains = <span class="function"><span class="keyword">function</span> <span class="params">(className)</span> {</span>
            <span class="keyword">return</span> el.classList.contains(className);
          };

          <span class="keyword">switch</span> (action) {
            <span class="keyword">case</span> <span class="string">"add"</span>: {
              <span class="keyword">for</span> (_i = <span class="number">0</span>; _i &lt; parts.length; _i += <span class="number">1</span>) {
                <span class="keyword">if</span> (!contains(parts[_i])) {
                  el.classList.add(parts[_i]);
                }
              }

            } <span class="keyword">break</span>;

            <span class="keyword">case</span> <span class="string">"remove"</span>: {
              <span class="keyword">for</span> (_i = <span class="number">0</span>; _i &lt; parts.length; _i += <span class="number">1</span>) {
                <span class="keyword">if</span> (contains(parts[_i])) {
                  el.classList.remove(parts[_i]);
                }
              }

            } <span class="keyword">break</span>;

            <span class="keyword">case</span> <span class="string">"has"</span>: {
              <span class="keyword">for</span> (_i = <span class="number">0</span>; _i &lt; parts.length; _i += <span class="number">1</span>) {
                res.push(contains(parts[_i]));
              }

            } <span class="keyword">break</span>;

            <span class="keyword">case</span> <span class="string">"toggle"</span>: {
              <span class="keyword">for</span> (_i = <span class="number">0</span>; _i &lt; parts.length; _i += <span class="number">1</span>) {
                <span class="keyword">if</span> (contains(parts[_i])) {
                  el.classList.remove(parts[_i]);
                } <span class="keyword">else</span> {
                  el.classList.add(parts[_i]);
                }
              }
            } <span class="keyword">break</span>;
          }
        }

        <span class="keyword">return</span> <span class="keyword">typeof</span> res === <span class="string">"boolean"</span> ? res : res.every(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
          <span class="keyword">return</span> el === <span class="literal">true</span>;
        });
      });
    } : <span class="function"><span class="keyword">function</span> <span class="params">(action, className)</span> {</span>
      <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
        <span class="keyword">var</span> _i, parts, contains, res = [];

        <span class="keyword">if</span> (<span class="keyword">typeof</span> className === <span class="string">"string"</span>) {
          parts = className.split(<span class="string">" "</span>);

          <span class="keyword">if</span> (parts.length === <span class="number">1</span>) {
            contains = el.className.split(className).length &gt; <span class="number">1</span>;

            <span class="keyword">switch</span> (action) {
              <span class="keyword">case</span> <span class="string">"add"</span>: {
                <span class="keyword">if</span> (!contains) {
                  el.className += <span class="string">" "</span> +  (className);
                }
              } <span class="keyword">break</span>;

              <span class="keyword">case</span> <span class="string">"remove"</span>: {
                <span class="keyword">if</span> (contains) {
                  el.className.replace(className, <span class="string">""</span>);
                }
              } <span class="keyword">break</span>;

              <span class="keyword">case</span> <span class="string">"has"</span>: {
                res = contains;
               
              } <span class="keyword">break</span>;

              <span class="keyword">case</span> <span class="string">"toggle"</span>: {
                <span class="keyword">for</span> (_i = <span class="number">0</span>; _i &lt; parts.length; _i += <span class="number">1</span>) {
                  <span class="keyword">if</span> (contains) {
                    el.className.replace(className, <span class="string">""</span>);
                  } <span class="keyword">else</span> {
                    el.className += <span class="string">" "</span> +  className;
                  }
                }
              } <span class="keyword">break</span>;
            }
          } <span class="keyword">else</span> {
            contains = <span class="function"><span class="keyword">function</span> <span class="params">(className)</span> {</span>
              <span class="keyword">return</span> el.className.split(className).length &gt; <span class="number">1</span>;
            };

            <span class="keyword">switch</span> (action) {
              <span class="keyword">case</span> <span class="string">"add"</span>: {
                <span class="keyword">for</span> (_i = <span class="number">0</span>; _i &lt; parts.length; _i += <span class="number">1</span>) {
                  <span class="keyword">if</span> (!contains(parts[_i])) {
                    el.className += <span class="string">" "</span> +  parts[_i];
                  }
                }
              } <span class="keyword">break</span>;

              <span class="keyword">case</span> <span class="string">"remove"</span>: {
                <span class="keyword">for</span> (_i = <span class="number">0</span>; _i &lt; parts.length; _i += <span class="number">1</span>) {
                  <span class="keyword">if</span> (contains(parts[_i])) {
                    el.className.replace(parts[_i], <span class="string">""</span>);
                  }
                }
              } <span class="keyword">break</span>;

              <span class="keyword">case</span> <span class="string">"has"</span>: {
                <span class="keyword">for</span> (_i = <span class="number">0</span>; _i &lt; parts.length; _i += <span class="number">1</span>) {
                  res.push(contains(parts[_i]));
                }
              } <span class="keyword">break</span>;

              <span class="keyword">case</span> <span class="string">"toggle"</span>: {
                <span class="keyword">for</span> (_i = <span class="number">0</span>; _i &lt; parts.length; _i += <span class="number">1</span>) {
                  <span class="keyword">if</span> (contains(parts[_i])) {
                    el.className.replace(parts[_i], <span class="string">""</span>);
                  } <span class="keyword">else</span> {
                    el.className += <span class="string">" "</span> +  parts[_i];
                  }
                }
              } <span class="keyword">break</span>;
            }
          }
        } <span class="keyword">else</span> <span class="keyword">if</span> (className.length) {
          parts = className;
          
          contains = <span class="function"><span class="keyword">function</span> <span class="params">(className)</span> {</span>
            <span class="keyword">return</span> el.className.split(className).length &gt; <span class="number">1</span>;
          };

          <span class="keyword">switch</span> (action) {
            <span class="keyword">case</span> <span class="string">"add"</span>: {
              <span class="keyword">for</span> (_i = <span class="number">0</span>; _i &lt; parts.length; _i += <span class="number">1</span>) {
                <span class="keyword">if</span> (!contains(parts[_i])) {
                  el.className += <span class="string">" "</span> +  parts[_i];
                }
              }

            } <span class="keyword">break</span>;

            <span class="keyword">case</span> <span class="string">"remove"</span>: {
              <span class="keyword">for</span> (_i = <span class="number">0</span>; _i &lt; parts.length; _i += <span class="number">1</span>) {
                <span class="keyword">if</span> (contains(parts[_i])) {
                  el.className.replace(parts[_i], <span class="string">""</span>);
                }
              }

            } <span class="keyword">break</span>;

            <span class="keyword">case</span> <span class="string">"has"</span>: {
              <span class="keyword">for</span> (_i = <span class="number">0</span>; _i &lt; parts.length; _i += <span class="number">1</span>) {
                res.push(contains(parts[_i]));
              }

            } <span class="keyword">break</span>;

            <span class="keyword">case</span> <span class="string">"toggle"</span>: {
              <span class="keyword">for</span> (_i = <span class="number">0</span>; _i &lt; parts.length; _i += <span class="number">1</span>) {
                <span class="keyword">if</span> (contains(parts[_i])) {
                  el.className.replace(parts[_i], <span class="string">""</span>);
                } <span class="keyword">else</span> {
                  el.className += <span class="string">" "</span> +  parts[_i];
                }
              }
            } <span class="keyword">break</span>;
          }
        }

        <span class="keyword">return</span> <span class="keyword">typeof</span> res === <span class="string">"boolean"</span> ? res : res.every(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
          <span class="keyword">return</span> el === <span class="literal">true</span>;
        });
      });
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-213">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-213">&#182;</a>
              </div>
              <p>Adds class(es) to selected elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Adds class(es) to selected elements
     * 
     * @for Dom
     * @method addClass
     * @param {string|array} className The class(es) to add
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("p").addClass("paragraph")
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    addClass: <span class="function"><span class="keyword">function</span> <span class="params">(className)</span> {</span>
      <span class="keyword">return</span> <span class="keyword">this</span>[<span class="string">"class"</span>](<span class="string">"add"</span>, className);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-214">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-214">&#182;</a>
              </div>
              <p>Remove class(es) from selected elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Remove class(es) from selected elements
     * 
     * @for Dom
     * @method removeClass
     * @param classes {string|array} The class(es) to be removed
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("p.hidden").removeClass("hidden")
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    removeClass: <span class="function"><span class="keyword">function</span> <span class="params">(className)</span> {</span>
      <span class="keyword">return</span> <span class="keyword">this</span>[<span class="string">"class"</span>](<span class="string">"remove"</span>, className);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-215">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-215">&#182;</a>
              </div>
              <p>Check for class(es) in selected elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Check for class(es) in selected elements
     * 
     * @for Dom
     * @method hasClass
     * @param {string|array} className The class(es) to be checked for existence
     * @return {Boolean}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * if(!$("audio:not([controls])").hasClass("hidden")) {
     *   $("audio:not([controls])").addClass("hidden");
     * }
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    hasClass: <span class="function"><span class="keyword">function</span> <span class="params">(className)</span> {</span>
      <span class="keyword">return</span> <span class="keyword">this</span>[<span class="string">"class"</span>](<span class="string">"has"</span>, className);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-216">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-216">&#182;</a>
              </div>
              <p>Add class(es) if not already, remove if added</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Add class(es) if not already, remove if added
     * 
     * @for Dom
     * @method toggleClass
     * @param {string|array} className The classes to be toggled
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $(".someClass").on("click", function () {
     *   $(this).toggleClass("opaque");
     * });
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    toggleClass: <span class="function"><span class="keyword">function</span> <span class="params">(className)</span> {</span>
      <span class="keyword">return</span> <span class="keyword">this</span>[<span class="string">"class"</span>](<span class="string">"toggle"</span>, className);
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-217">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-217">&#182;</a>
              </div>
              <p>Set or return attributes</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    
    <span class="comment">/**
     * Set or return attributes
     * 
     * @for Dom
     * @method attr
     * @param {string} name Name of attribute
     * @param {string} val Value of the attribute
     * @return {string|void}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("p.hidden").attr("hidden"); 
     * $("div.edit").attr("contentEditable", "true"); 
     * $("body").attr("hilo", "0.1.0"); 
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    attr: <span class="function"><span class="keyword">function</span> <span class="params">(name, val)</span> {</span>
      <span class="keyword">if</span>(val) {
        <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="keyword">function</span>(el) {
          el.setAttribute(name, val);
        });
      } <span class="keyword">else</span> {
        <span class="keyword">return</span> <span class="keyword">this</span>.first(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
          <span class="keyword">return</span> el.getAttribute(name);
        });
      }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-218">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-218">&#182;</a>
              </div>
              <hr>
<h2>Hilo CSS</h2>

            </div>
            
        </li>
        
        
        <li id="section-219">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-219">&#182;</a>
              </div>
              <p>Set or return css property</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Set or return css property
     *
     * @for Dom
     * @method css
     * @param {String|Object} prop Name of property | Properties
     * @param {string} value Value of property
     * @return {string|void}
     * @beta
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("p").css("margin-left", "10em");
     * 
     * $("p.round").css({
     *   "border-radius": 10,
     *   width: 100
     * });
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    css: <span class="function"><span class="keyword">function</span> <span class="params">(prop, value)</span> {</span>
      <span class="keyword">var</span> unhyphed;

      <span class="keyword">if</span> (<span class="keyword">typeof</span> prop === <span class="string">"string"</span>) {
        unhyphed = unhyph(prop);

        <span class="keyword">if</span> (value) {
          <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
            el.style[unhyphed] = unitize(value, unhyphed);
          });
        } <span class="keyword">else</span> {
          <span class="keyword">return</span> <span class="keyword">this</span>.first(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
            <span class="keyword">return</span> el.style[unhyphed];
          });
        }
      } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> prop === <span class="string">"object"</span>) {
        forIn(prop, <span class="function"><span class="keyword">function</span> <span class="params">(pr)</span> {</span>
          unhyphed = unhyph(pr);

          <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
            el.style[unhyphed] = unitize(prop[pr], unhyphed);
          });
        }, <span class="keyword">this</span>);
      }
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-220">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-220">&#182;</a>
              </div>
              <p>Get computed property</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Get computed property
     * 
     * @for Dom
     * @method computed
     * @param {string} prop Name of property
     * @return {number|boolean|string}
     * @beta
     * @since 0.1.0
     */</span>
    computed: <span class="function"><span class="keyword">function</span> <span class="params">(prop)</span> {</span>
      <span class="keyword">return</span> <span class="keyword">this</span>.first(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
        <span class="keyword">return</span> win.getComputedStyle(el)[prop];
      });
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-221">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-221">&#182;</a>
              </div>
              <p>Get outer width</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    outerWidth: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
      <span class="keyword">return</span> parseFloat(<span class="keyword">this</span>.computed(<span class="string">"width"</span>)) + 
      parseFloat(<span class="keyword">this</span>.computed(<span class="string">"paddingLeft"</span>)) + 
      parseFloat(<span class="keyword">this</span>.computed(<span class="string">"paddingRight"</span>)) + 
      parseFloat(<span class="keyword">this</span>.computed(<span class="string">"borderLeft"</span>)) + 
      parseFloat(<span class="keyword">this</span>.computed(<span class="string">"borderRight"</span>)) + <span class="string">"px"</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-222">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-222">&#182;</a>
              </div>
              <p>Get inner width</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    innerWidth: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
      <span class="keyword">return</span> parseFloat(<span class="keyword">this</span>.computed(<span class="string">"width"</span>)) + 
      parseFloat(<span class="keyword">this</span>.computed(<span class="string">"paddingLeft"</span>)) + 
      parseFloat(<span class="keyword">this</span>.computed(<span class="string">"paddingRight"</span>)) + <span class="string">"px"</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-223">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-223">&#182;</a>
              </div>
              <p>Get outer height</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    outerHeight: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
      <span class="keyword">return</span> parseFloat(<span class="keyword">this</span>.computed(<span class="string">"height"</span>)) + 
      parseFloat(<span class="keyword">this</span>.computed(<span class="string">"paddingTop"</span>)) + 
      parseFloat(<span class="keyword">this</span>.computed(<span class="string">"paddingBottom"</span>)) + 
      parseFloat(<span class="keyword">this</span>.computed(<span class="string">"borderTop"</span>)) + 
      parseFloat(<span class="keyword">this</span>.computed(<span class="string">"borderBottom"</span>)) + <span class="string">"px"</span>;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-224">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-224">&#182;</a>
              </div>
              <p>Get inner height</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    innerHeight: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
      <span class="keyword">return</span> parseFloat(<span class="keyword">this</span>.computed(<span class="string">"height"</span>)) + 
      parseFloat(<span class="keyword">this</span>.computed(<span class="string">"paddingTop"</span>)) + 
      parseFloat(<span class="keyword">this</span>.computed(<span class="string">"paddingBottom"</span>)) + <span class="string">"px"</span>;
    }
  });</pre></div></div>
            
        </li>
        
        
        <li id="section-225">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-225">&#182;</a>
              </div>
              <hr>
<h2>Events</h2>

            </div>
            
            <div class="content"><div class='highlight'><pre>
  extend(Dom.prototype, {</pre></div></div>
            
        </li>
        
        
        <li id="section-226">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-226">&#182;</a>
              </div>
              <p>Listen to an event and execute a function when that event happend</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Listen to an event and execute a function when that event happend
     * 
     * @for Dom
     * @method on
     * @param {String} evt Name of event
     * @param {Function} fn Function to be executed when the event is fired
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("#box").on("click", function (e) {
     *   console.log("#box was clicked");
     * });
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    on: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span></pre></div></div>
            
        </li>
        
        
        <li id="section-227">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-227">&#182;</a>
              </div>
              <p>Check if <code>document.addEventListener</code> method
is available and use it if it is</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="keyword">if</span> (document.addEventListener) {
        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="params">(evt, fn)</span> {</span>
          <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
            el.addEventListener(evt, fn, <span class="literal">false</span>);
          });
        };</pre></div></div>
            
        </li>
        
        
        <li id="section-228">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-228">&#182;</a>
              </div>
              <p>Otherwise check if <code>document.attachEvent</code> 
legacy method is available and use it if it is</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      } <span class="keyword">else</span> <span class="keyword">if</span> (document.attachEvent)  {
        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="params">(evt, fn)</span> {</span>
          <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
            el.attachEvent(<span class="string">"on"</span> + evt, fn);
          });
        };</pre></div></div>
            
        </li>
        
        
        <li id="section-229">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-229">&#182;</a>
              </div>
              <p>Add event the DOM Level 0 Style</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      } <span class="keyword">else</span> {
        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="params">(evt, fn)</span> {</span>
          <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
            el[<span class="string">"on"</span> + evt] = fn;
          });
        };
      }
    }()),</pre></div></div>
            
        </li>
        
        
        <li id="section-230">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-230">&#182;</a>
              </div>
              <p>Stop listening to an event</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="comment">/**
     * Stop listening to an event
     * 
     * @for Dom
     * @method on
     * @param {String} evt Name of event
     * @param {Function} fn Function to stop listening to
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("#box").off("click", fn);
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    off: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
      <span class="keyword">if</span> (document.removeEventListener) {
        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="params">(evt, fn)</span> {</span>
          <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
            el.removeEventListener(evt, fn, <span class="literal">false</span>);
          });
        };
      } <span class="keyword">else</span> <span class="keyword">if</span> (document.detachEvent)  {
        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="params">(evt, fn)</span> {</span>
          <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
            el.detachEvent(<span class="string">"on"</span> + evt, fn);
          });
        };
      } <span class="keyword">else</span> {
        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="params">(evt)</span> {</span>
          <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
            el[<span class="string">"on"</span> + evt] = <span class="literal">null</span>;
          });
        };
      }
    }()),

    <span class="comment">/**
     * Trigger or fire an event
     * 
     * @for Dom
     * @method fire
     * @param {String} evt Name of event to fire
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("#uploadForm").fire("overload");
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    fire: (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
      <span class="keyword">if</span> (document.dispatchEvent) {
        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="params">(event)</span> {</span>
          <span class="keyword">var</span> evt;
          
          <span class="keyword">try</span> {
            evt = document.createEvent(<span class="string">"Events"</span>);
          } <span class="keyword">catch</span> (e) {
            evt = document.createEvent(<span class="string">"UIEvents"</span>);
          }

          evt.initUIEvent(event, <span class="literal">true</span>, <span class="literal">true</span>, window, <span class="number">1</span>);

          <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
            el.dispatchEvent(evt);
          });
        };
      } <span class="keyword">else</span> <span class="keyword">if</span> (document.fireEvent) {
        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="params">(event)</span> {</span>
          <span class="keyword">var</span> evt = document.createEventObject();
          evt.button = <span class="number">1</span>;

          <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="keyword">function</span>(el) {
            el.fireEvent(<span class="string">"on"</span> + event, evt);
          });
        };
      } <span class="keyword">else</span> {
        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="params">(event)</span> {</span>
          <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
            el[<span class="string">"on"</span> + event].call();
          });
        };
      }
    }())
  });</pre></div></div>
            
        </li>
        
        
        <li id="section-231">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-231">&#182;</a>
              </div>
              <hr>
<h2>Events (imp.)</h2>

            </div>
            
            <div class="content"><div class='highlight'><pre>
  extend(Dom.prototype, {
    ready: <span class="function"><span class="keyword">function</span> <span class="params">(fn)</span> {</span>
      <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
        el.onreadystatechange = <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
          <span class="keyword">if</span> (el.readyState = <span class="string">"complete"</span>) {
            fn();
          }
        };
      });
    }
  });

  (<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
    <span class="keyword">var</span> evtObj = {}
      , impEvts;

    impEvts = [
      <span class="string">"blur"</span>,
      <span class="string">"click"</span>,
      <span class="string">"change"</span>,
      <span class="string">"dblclick"</span>,
      <span class="string">"drag"</span>,
      <span class="string">"dragstart"</span>,
      <span class="string">"dragend"</span>,
      <span class="string">"dragenter"</span>,
      <span class="string">"dragleave"</span>,
      <span class="string">"dragover"</span>,
      <span class="string">"drop"</span>,
      <span class="string">"error"</span>,
      <span class="string">"focus"</span>,
      <span class="string">"keyup"</span>,
      <span class="string">"keydown"</span>,
      <span class="string">"keypress"</span>,
      <span class="string">"load"</span>,
      <span class="string">"mousedown"</span>,
      <span class="string">"mouseleave"</span>,
      <span class="string">"mouseenter"</span>,
      <span class="string">"mouseover"</span>,
      <span class="string">"mousemove"</span>,
      <span class="string">"mouseout"</span>,
      <span class="string">"submit"</span>
    ];

    <span class="keyword">for</span> (_i = <span class="number">0</span>; _i &lt; impEvts.length; _i += <span class="number">1</span>) {
      evtObj[impEvts[_i]] = <span class="function"><span class="keyword">function</span> <span class="params">(fn)</span> {</span>
        <span class="keyword">if</span> (<span class="keyword">typeof</span> fn === <span class="string">"function"</span>) {
          <span class="keyword">return</span> <span class="keyword">this</span>.on(impEvts[_i], fn);
        }

        <span class="keyword">return</span> <span class="keyword">this</span>.fire(impEvts[_i]);
      };
    }

    extend(Dom.prototype, evtObj);
  }());</pre></div></div>
            
        </li>
        
        
        <li id="section-232">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-232">&#182;</a>
              </div>
              <p>These keyborad key mappings will be later used
to enable use of shortcut keys or the like</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
  key = {</pre></div></div>
            
        </li>
        
        
        <li id="section-233">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-233">&#182;</a>
              </div>
              <p>Numbers</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="string">"0"</span>: <span class="number">48</span>,
    <span class="string">"1"</span>: <span class="number">49</span>,
    <span class="string">"2"</span>: <span class="number">50</span>,
    <span class="string">"3"</span>: <span class="number">51</span>,
    <span class="string">"4"</span>: <span class="number">52</span>,
    <span class="string">"5"</span>: <span class="number">53</span>,
    <span class="string">"6"</span>: <span class="number">54</span>,
    <span class="string">"7"</span>: <span class="number">55</span>,
    <span class="string">"8"</span>: <span class="number">56</span>,
    <span class="string">"9"</span>: <span class="number">57</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-234">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-234">&#182;</a>
              </div>
              <p>Uppercase letters</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    A: <span class="number">65</span>,
    B: <span class="number">66</span>,
    C: <span class="number">67</span>,
    D: <span class="number">68</span>,
    E: <span class="number">69</span>,
    F: <span class="number">70</span>,
    G: <span class="number">71</span>,
    H: <span class="number">72</span>,
    I: <span class="number">73</span>,
    J: <span class="number">74</span>,
    K: <span class="number">75</span>,
    L: <span class="number">76</span>,
    M: <span class="number">77</span>,
    N: <span class="number">78</span>,
    O: <span class="number">79</span>,
    P: <span class="number">80</span>,
    Q: <span class="number">81</span>,
    R: <span class="number">82</span>,
    S: <span class="number">83</span>,
    T: <span class="number">84</span>,
    U: <span class="number">85</span>,
    V: <span class="number">86</span>,
    W: <span class="number">87</span>,
    X: <span class="number">88</span>,
    Y: <span class="number">89</span>,
    Z: <span class="number">90</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-235">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-235">&#182;</a>
              </div>
              <p>Lowecase letters</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    a: <span class="number">97</span>,
    b: <span class="number">98</span>,
    c: <span class="number">99</span>,
    d: <span class="number">100</span>,
    e: <span class="number">101</span>,
    f: <span class="number">102</span>,
    g: <span class="number">103</span>,
    h: <span class="number">104</span>,
    i: <span class="number">105</span>,
    j: <span class="number">106</span>,
    k: <span class="number">107</span>,
    l: <span class="number">108</span>,
    m: <span class="number">109</span>,
    n: <span class="number">110</span>,
    o: <span class="number">111</span>,
    p: <span class="number">112</span>,
    q: <span class="number">113</span>,
    r: <span class="number">114</span>,
    s: <span class="number">115</span>,
    t: <span class="number">116</span>,
    u: <span class="number">117</span>,
    v: <span class="number">118</span>,
    w: <span class="number">119</span>,
    x: <span class="number">120</span>,
    y: <span class="number">121</span>,
    z: <span class="number">122</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-236">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-236">&#182;</a>
              </div>
              <p>Other Important Keys</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    alt: <span class="number">18</span>,
    caps: <span class="number">20</span>,
    ctrl: <span class="number">17</span>,
    cmd: <span class="number">17</span>,
    enter: <span class="number">13</span>,
    esc: <span class="number">27</span>,
    del: <span class="number">46</span>,
    end: <span class="number">35</span>,
    back: <span class="number">8</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-237">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-237">&#182;</a>
              </div>
              <p>Arrows</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    left: <span class="number">37</span>,
    up: <span class="number">38</span>,
    right: <span class="number">39</span>,
    down: <span class="number">40</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-238">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-238">&#182;</a>
              </div>
              <p>F-keys</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    f1: <span class="number">112</span>,
    f2: <span class="number">113</span>,
    f3: <span class="number">114</span>,
    f4: <span class="number">115</span>,
    f5: <span class="number">116</span>,
    f6: <span class="number">117</span>,
    f7: <span class="number">118</span>,
    f8: <span class="number">119</span>,
    f9: <span class="number">120</span>,
    f10: <span class="number">121</span>,
    f11: <span class="number">122</span>,
    f12: <span class="number">123</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-239">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-239">&#182;</a>
              </div>
              <p>Less-used keys</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    home: <span class="number">36</span>,
    insert: <span class="number">45</span>,
    numlock: <span class="number">144</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-240">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-240">&#182;</a>
              </div>
              <p>Symbols</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="string">"`"</span>: <span class="number">222</span>,
    <span class="string">"-"</span>: <span class="number">189</span>,
    <span class="string">","</span>: <span class="number">188</span>,
    <span class="string">"."</span>: <span class="number">190</span>,
    <span class="string">"/"</span>: <span class="number">191</span>,
    <span class="string">";"</span>: <span class="number">186</span>,
    <span class="string">"["</span>: <span class="number">219</span>,
    <span class="string">"\\"</span>: <span class="number">220</span>,
    <span class="string">"]"</span>: <span class="number">221</span>,
    <span class="string">"="</span>: <span class="number">187</span>

  };

  hilo.keys = key;</pre></div></div>
            
        </li>
        
        
        <li id="section-241">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-241">&#182;</a>
              </div>
              <hr>
<h2>Effects (fx)</h2>

            </div>
            
            <div class="content"><div class='highlight'><pre>
  extend(Dom.prototype, {

    <span class="comment">/**
     * Sets the display property of sel.els. to "" or given value
     * 
     * @for Dom
     * @method show
     * @param {string} display Value of display prop.
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("p").show();
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    show: <span class="function"><span class="keyword">function</span> <span class="params">(display)</span> {</span>
      display = display || <span class="string">""</span>;

      <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
        el.style.display = display;
        el.setAttribute(<span class="string">"aria-hidden"</span>, <span class="literal">false</span>);
      });
    },

    <span class="comment">/**
     * Sets the display property of sel.els. to "none"
     * 
     * @for Dom
     * @method hide
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("p").hide();
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    hide: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
      <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
        el.style.display = <span class="string">"none"</span>;
        el.setAttribute(<span class="string">"aria-hidden"</span>, <span class="literal">true</span>);
      });
    },

    <span class="comment">/**
     * Shows hidden elements, hides shown elements
     * 
     * @for Dom
     * @method toggle
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("p").toggle();
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    toggle: <span class="function"><span class="keyword">function</span> <span class="params">(display)</span> {</span>
      <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
        <span class="keyword">if</span> (el.style.display === <span class="string">"none"</span>) {
          el.style.display = display ? display : <span class="string">""</span>;
          el.setAttribute(<span class="string">"aria-hidden"</span>, <span class="literal">false</span>);
        } <span class="keyword">else</span> {
          el.style.display = <span class="string">"none"</span>;
          el.setAttribute(<span class="string">"aria-hidden"</span>, <span class="literal">true</span>);
        }
      });
    },

    <span class="comment">/**
     * Sets visibility to "visible"
     * 
     * @for Dom
     * @method appear
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("p").appear();
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    appear: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
      <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
        el.style.visibility = <span class="string">"visible"</span>;
        el.setAttribute(<span class="string">"aria-hidden"</span>, <span class="literal">false</span>);
      });
    },

    <span class="comment">/**
     * Sets visiblity to "hidden"
     * 
     * @for Dom
     * @method disappear
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("p").disappear();
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    disappear: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
      <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
        el.style.visibility = <span class="string">"hidden"</span>;
        el.setAttribute(<span class="string">"aria-hidden"</span>, <span class="literal">true</span>);
      });
    },

    <span class="comment">/**
     * Appears a disappeared element, disappears and appeared element
     * 
     * @for Dom
     * @method toggleVisibility
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("p").toggleVisibility();
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    toggleVisibility: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
      <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
        <span class="keyword">if</span> (el.style.opacity === <span class="string">"0"</span>) {
          el.style.opacity = <span class="string">"1"</span>;
        } <span class="keyword">else</span> {
          el.style.opacity = <span class="string">"0"</span>;
          el.style.cursor = <span class="string">"default"</span>;
        }
      });
    },

    <span class="comment">/**
     * Animates opacity prop. from 0 to 1 or 1 to 0
     * 
     * @for Dom
     * @method fade
     * @param {string} inOut Whether "in" or "out"
     * @param {number|string} "fast", "slow", "normal" or a number 
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("p").fade("in");
     * $("p").fade("out");
     * $("p").fade("in", 140);
     * $("p").fade("out", 100);
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    fade: <span class="function"><span class="keyword">function</span> <span class="params">(inOut, timing)</span> {</span>
      <span class="keyword">if</span> (inOut === <span class="string">"in"</span>) {
        <span class="keyword">this</span>.show();
      }

      <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> <span class="params">(el)</span> {</span>
        <span class="keyword">var</span> time;

        <span class="keyword">switch</span>(timing) {
          <span class="keyword">case</span> <span class="string">"slow"</span>:
            time = <span class="number">200</span>;
            <span class="keyword">break</span>;
          <span class="keyword">case</span> <span class="string">"normal"</span>:
            time = <span class="number">120</span>;
            <span class="keyword">break</span>;
          <span class="keyword">case</span> <span class="string">"fast"</span>:
            time = <span class="number">80</span>;
            <span class="keyword">break</span>;
          <span class="keyword">default</span>:
            time = time || <span class="number">120</span>;
            <span class="keyword">break</span>;
        }

        <span class="function"><span class="keyword">function</span> <span class="title">animate</span> <span class="params">()</span> {</span>
          <span class="keyword">var</span> val = <span class="number">0.3</span>, end = <span class="number">1</span>;

          <span class="keyword">if</span> (parseFloat(el.style.opacity) === (inOut === <span class="string">"in"</span> ? <span class="number">1</span> : <span class="number">0</span>)) {
            clearInterval(win.Hilo.temp.anim);
          } <span class="keyword">else</span> {
            <span class="keyword">if</span> (inOut === <span class="string">"out"</span>) {
              val = -val;
              end = <span class="number">0</span>;
            }

            el.style.opacity = parseFloat(el.style.opacity || end) + val; 
          }
        }

        win.Hilo.temp.anim = setInterval(animate, timing);
      });
    },

    <span class="comment">/**
     * Animates opacity prop. from 0 to 1
     * 
     * @for Dom
     * @method fadeIn
     * @param {number|string} "fast", "slow", "normal" or a number 
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("p").fadeIn();
     * $("p").fadeIn(140);
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    fadeIn: <span class="function"><span class="keyword">function</span> <span class="params">(timing)</span> {</span>
      <span class="keyword">this</span>.fade(<span class="string">"in"</span>, timing);
    },

    <span class="comment">/**
     * Animates opacity prop. from 1 to 0
     * 
     * @for Dom
     * @method fadeOut
     * @param {number|string} "fast", "slow", "normal" or a number 
     * @return {Dom}
     * @example
     * &lt;div class="code"&gt;&lt;pre class="prettyprint"&gt;
     * $("p").fadeOut();
     * $("p").fadeOut(140);
     * &lt;/pre&gt;&lt;/div&gt;
     * @since 0.1.0
     */</span>
    fadeOut: <span class="function"><span class="keyword">function</span> <span class="params">(timing)</span> {</span>
      <span class="keyword">this</span>.fade(<span class="string">"out"</span>, timing);
    }
  });

  hilo.classify = <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
    <span class="keyword">var</span> html = win.Hilo(<span class="string">"html"</span>)
      , classes = [<span class="string">"js"</span>]
      , _i;

    html.removeClass(<span class="string">"no-js"</span>);

    <span class="keyword">if</span> (hilo.browser.chrome) {
      classes.push(<span class="string">"chrome"</span>);
    } <span class="keyword">else</span> <span class="keyword">if</span> (hilo.browser.firefox) {
      classes.push(<span class="string">"firefox"</span>);
    } <span class="keyword">else</span> <span class="keyword">if</span> (hilo.browser.safari) {
      classes.push(<span class="string">"safari"</span>);
    } <span class="keyword">else</span> <span class="keyword">if</span> (hilo.browser.ie) {

      <span class="keyword">if</span> (hilo.browser.ie &lt;= <span class="number">6</span>) {
        classes.push(<span class="string">"lte-ie6"</span>);

        <span class="keyword">if</span> (hilo.browser.ie &lt; <span class="number">6</span>) {
          classes.push(<span class="string">"lt-ie6"</span>);
        }
      }

      <span class="keyword">if</span> (hilo.browser.ie &lt;= <span class="number">7</span>) {
        classes.push(<span class="string">"lte-ie7"</span>);

        <span class="keyword">if</span> (hilo.browser.ie &lt; <span class="number">7</span>) {
          classes.push(<span class="string">"lt-ie7"</span>);
        }
      }

      <span class="keyword">if</span> (hilo.browser.ie &lt;= <span class="number">8</span>) {
        classes.push(<span class="string">"lte-ie8"</span>);

        <span class="keyword">if</span> (hilo.browser.ie &lt; <span class="number">8</span>) {
          classes.push(<span class="string">"lt-ie8"</span>);
        }
      }

      <span class="keyword">if</span> (hilo.browser.ie &lt;= <span class="number">9</span>) {
        classes.push(<span class="string">"lte-ie9"</span>);

        <span class="keyword">if</span> (hilo.browser.ie &lt; <span class="number">9</span>) {
          classes.push(<span class="string">"lt-ie9"</span>);
        }
      }

      <span class="keyword">if</span> (hilo.browser.ie &lt;= <span class="number">10</span>) {
        classes.push(<span class="string">"lte-ie10"</span>);

        <span class="keyword">if</span> (hilo.browser.ie &lt; <span class="number">10</span>) {
          classes.push(<span class="string">"lt-ie10"</span>);
        }
      }

      <span class="keyword">if</span> (hilo.browser.ie &gt;= <span class="number">6</span>) {
        classes.push(<span class="string">"gte-ie6"</span>);

        <span class="keyword">if</span> (hilo.browser.version &gt; <span class="number">6</span>) {
          classes.push(<span class="string">"gt-ie6"</span>);
        }
      }

      <span class="keyword">if</span> (hilo.browser.ie &gt;= <span class="number">7</span>) {
        classes.push(<span class="string">"gte-ie7"</span>);

        <span class="keyword">if</span> (hilo.browser.version &gt; <span class="number">7</span>) {
          classes.push(<span class="string">"gt-ie7"</span>);
        }
      }

      <span class="keyword">if</span> (hilo.browser.ie &gt;= <span class="number">8</span>) {
        classes.push(<span class="string">"gte-ie8"</span>);

        <span class="keyword">if</span> (hilo.browser.version &gt; <span class="number">8</span>) {
          classes.push(<span class="string">"gt-ie8"</span>);
        }
      }

      <span class="keyword">if</span> (hilo.browser.ie &gt;= <span class="number">9</span>) {
        classes.push(<span class="string">"gte-ie9"</span>);

        <span class="keyword">if</span> (hilo.browser.version &gt; <span class="number">9</span>) {
          classes.push(<span class="string">"gt-ie9"</span>);
        }
      }

      <span class="keyword">if</span> (hilo.browser.ie &gt;= <span class="number">10</span>) {
        classes.push(<span class="string">"gte-ie10"</span>);

        <span class="keyword">if</span> (hilo.browser.version &gt; <span class="number">10</span>) {
          classes.push(<span class="string">"gt-ie10"</span>);
        }
      }

      <span class="keyword">if</span> (hilo.browser.ie === <span class="number">6</span>) {
        classes.push(<span class="string">"ie6"</span>);
      } <span class="keyword">else</span> <span class="keyword">if</span> (hilo.browser.ie === <span class="number">7</span>) {
        classes.push(<span class="string">"ie7"</span>);
      } <span class="keyword">else</span> <span class="keyword">if</span> (hilo.browser.ie === <span class="number">8</span>) {
        classes.push(<span class="string">"ie8"</span>);
      } <span class="keyword">else</span> <span class="keyword">if</span> (hilo.browser.ie === <span class="number">9</span>) {
        classes.push(<span class="string">"ie9"</span>);
      } <span class="keyword">else</span> <span class="keyword">if</span> (hilo.browser.ie === <span class="number">10</span>) {
        classes.push(<span class="string">"ie10"</span>);
      }

      classes.push(<span class="string">"ie"</span>);
    } <span class="keyword">else</span> <span class="keyword">if</span> (hilo.browser.opera) {
      classes.push(<span class="string">"opera"</span>);
    } <span class="keyword">else</span> <span class="keyword">if</span> (hilo.browser.konq) {
      classes.push(<span class="string">"konqueror"</span>);
    }

    <span class="keyword">if</span> (hilo.platform.win) {
      classes.push(<span class="string">"windows"</span>);
    } <span class="keyword">else</span> <span class="keyword">if</span> (hilo.platform.mac) {
      classes.push(<span class="string">"mac"</span>);
    } <span class="keyword">else</span> <span class="keyword">if</span> (hilo.platform.x11) {
      classes.push(<span class="string">"linux"</span>);
    }

    <span class="keyword">if</span> (hilo.engine.webkit) {
      classes.push(<span class="string">"webkit"</span>);
    } <span class="keyword">else</span> <span class="keyword">if</span> (hilo.engine.ie) {
      classes.push(<span class="string">"trident"</span>);
    } <span class="keyword">else</span> <span class="keyword">if</span> (hilo.engine.opera) {
      classes.push(<span class="string">"presto"</span>);
    } <span class="keyword">else</span> <span class="keyword">if</span> (hilo.engine.gecko) {
      classes.push(<span class="string">"gecko"</span>);
    }

    classes.push(hilo.browser.name.toLowerCase() + parseInt(hilo.browser.version, <span class="number">10</span>));

    <span class="function"><span class="keyword">function</span> <span class="title">getBrowserVersion</span> <span class="params">()</span> {</span>
      <span class="keyword">return</span> String(hilo.browser.version).replace(<span class="string">"."</span>, <span class="string">"-"</span>);
    }

    <span class="keyword">if</span> (getBrowserVersion() !== parseInt(hilo.browser.version, <span class="number">10</span>)) {
      classes.push(hilo.browser.name.toLowerCase() + getBrowserVersion());
    }

    <span class="keyword">for</span> (_i <span class="keyword">in</span> hilo.feature) {
      <span class="keyword">if</span> (hilo.feature.hasOwnProperty(_i)) {
        <span class="keyword">if</span> (hilo.feature[_i] === <span class="literal">true</span>) {
          classes.push(_i.toLowerCase());
        } <span class="keyword">else</span> <span class="keyword">if</span> (hilo.feature[_i] === <span class="literal">false</span>) {
          classes.push(<span class="string">"no-"</span> + _i.toLowerCase());
        }
      }
    }

    html.addClass(classes);

    <span class="keyword">return</span> classes;
  };</pre></div></div>
            
        </li>
        
        
        <li id="section-242">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-242">&#182;</a>
              </div>
              <hr>
<h2>Hilo Extension API</h2>

            </div>
            
        </li>
        
        
        <li id="section-243">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-243">&#182;</a>
              </div>
              <p>Provide Extension API</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  extend(hilo, {
    Dom: Dom.prototype,
    Test: Test.prototype
  });</pre></div></div>
            
        </li>
        
        
        <li id="section-244">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-244">&#182;</a>
              </div>
              <p>Set event handler for triggering DOM Evenets</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  
  doc.onreadystatechange = <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
    <span class="keyword">if</span> (doc.readyState === <span class="string">"complete"</span>) {
      <span class="keyword">for</span> (_i = <span class="number">0</span>; _i &lt; callbacks.length; _i += <span class="number">1</span>) {
        callbacks[_i]();
      }
    }
  };</pre></div></div>
            
        </li>
        
        
        <li id="section-245">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-245">&#182;</a>
              </div>
              <p>Provide shorthand <code>$</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  win.$ = hilo;</pre></div></div>
            
        </li>
        
        
        <li id="section-246">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-246">&#182;</a>
              </div>
              <p>Get the total time took to execute the script</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  elapsed = <span class="keyword">new</span> Date().getTime() - start;

  <span class="comment">/**
   * Time taken to load (in ms)
   * 
   * @for hilo
   * @property perf
   * @type {number}
   * @since 0.1.0
   */</span>
  hilo.perf = elapsed;</pre></div></div>
            
        </li>
        
        
        <li id="section-247">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-247">&#182;</a>
              </div>
              <p>Finally return Hilo</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="keyword">return</span> hilo;
}));</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
